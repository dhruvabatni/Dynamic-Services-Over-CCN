<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Content-Centric Networking in Java: org.ccnx.ccn.impl.security.keys.SecureKeyCache Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><b>org</b>.<b>ccnx</b>.<b>ccn</b>.<b>impl</b>.<b>security</b>.<b>keys</b>.<a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_secure_key_cache.html">SecureKeyCache</a>
  </div>
</div>
<div class="contents">
<h1>org.ccnx.ccn.impl.security.keys.SecureKeyCache Class Reference</h1><!-- doxytag: class="org::ccnx::ccn::impl::security::keys::SecureKeyCache" --><!-- doxytag: inherits="java::io::Serializable" -->
<p>A container for our private keys and other secret key material that we have retrieved (e.g.  
<a href="#_details">More...</a></p>

<p><a href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_secure_key_cache-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_secure_key_cache.html#a38f17c37edb7c5563c7f0c87329c9906">SecureKeyCache</a> (<a class="el" href="classorg_1_1ccnx_1_1ccn_1_1_key_manager.html">KeyManager</a> keyManagerToLoadFrom)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor that loads keys from a <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1_key_manager.html" title="Top-level interface for managing our own keys, as well as maintaining an address...">KeyManager</a>.  <a href="#a38f17c37edb7c5563c7f0c87329c9906"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_secure_key_cache.html#a0536caacf41fe884130b3fd5d494bb94">loadKeyStore</a> (<a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_key_store_info.html">KeyStoreInfo</a> keyStoreInfo, char[] password, <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_public_key_cache.html">PublicKeyCache</a> publicKeyCache)  throws KeyStoreException </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Load the private keys from a KeyStore.  <a href="#a0536caacf41fe884130b3fd5d494bb94"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Key&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_secure_key_cache.html#a8b27fe5aaa72fb7b5fd322a604fbd104">getKey</a> (byte[] desiredKeyIdentifier)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Retrieve a key specified by its digest To restrict access to keys, store key cache in a private variable, and don't allow references to it from untrusted code.  <a href="#a8b27fe5aaa72fb7b5fd322a604fbd104"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6f85044afac7ecef8016fccb02a3bf70"></a><!-- doxytag: member="org::ccnx::ccn::impl::security::keys::SecureKeyCache::getKey" ref="a6f85044afac7ecef8016fccb02a3bf70" args="(ContentName desiredKeyName)" -->
Key&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_secure_key_cache.html#a6f85044afac7ecef8016fccb02a3bf70">getKey</a> (<a class="el" href="classorg_1_1ccnx_1_1ccn_1_1protocol_1_1_content_name.html">ContentName</a> desiredKeyName)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Retrieve a key specified by its name. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6d7681dd3fb88ed00b30c467908b45bc"></a><!-- doxytag: member="org::ccnx::ccn::impl::security::keys::SecureKeyCache::getKey" ref="a6d7681dd3fb88ed00b30c467908b45bc" args="(ContentName desiredKeyName, byte[] desiredKeyID)" -->
Key&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_secure_key_cache.html#a6d7681dd3fb88ed00b30c467908b45bc">getKey</a> (<a class="el" href="classorg_1_1ccnx_1_1ccn_1_1protocol_1_1_content_name.html">ContentName</a> desiredKeyName, byte[] desiredKeyID)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Try both in one call. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">boolean&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_secure_key_cache.html#a9e1a657db9d7d9c07106b4c6ec0bc377">containsKey</a> (byte[] keyIdentifier)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Checks whether we have a record of a key specified by its digest, or in the case of a private key, the digest of the corresponding public key.  <a href="#a9e1a657db9d7d9c07106b4c6ec0bc377"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">boolean&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_secure_key_cache.html#a37797fb49c22e81c8350b7b730275166">containsKey</a> (<a class="el" href="classorg_1_1ccnx_1_1ccn_1_1protocol_1_1_content_name.html">ContentName</a> keyName)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">As the map from name to content is not unique, this might not give you a definite answer, and you should still check the digest.  <a href="#a37797fb49c22e81c8350b7b730275166"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">byte[]&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_secure_key_cache.html#a64309aa02d2f26839ef43ded9ad8ada7">getKeyID</a> (<a class="el" href="classorg_1_1ccnx_1_1ccn_1_1protocol_1_1_content_name.html">ContentName</a> versionedName)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the key ID associated with a name, if we have one.  <a href="#a64309aa02d2f26839ef43ded9ad8ada7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">PrivateKey&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_secure_key_cache.html#ab12bd8c2c5900225f54881eb0f1e7244">getPrivateKey</a> (byte[] desiredPublicKeyIdentifier)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the private key corresponding to a public key specified by its digest.  <a href="#ab12bd8c2c5900225f54881eb0f1e7244"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3e323d37dd7435cca9d42f23e2eafc73"></a><!-- doxytag: member="org::ccnx::ccn::impl::security::keys::SecureKeyCache::getPrivateKey" ref="a3e323d37dd7435cca9d42f23e2eafc73" args="(ContentName desiredKeyName)" -->
PrivateKey&nbsp;</td><td class="memItemRight" valign="bottom"><b>getPrivateKey</b> (<a class="el" href="classorg_1_1ccnx_1_1ccn_1_1protocol_1_1_content_name.html">ContentName</a> desiredKeyName)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acd6870d2a3e1dce84d4269cb5e484feb"></a><!-- doxytag: member="org::ccnx::ccn::impl::security::keys::SecureKeyCache::getPrivateKeys" ref="acd6870d2a3e1dce84d4269cb5e484feb" args="()" -->
PrivateKey[]&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_secure_key_cache.html#acd6870d2a3e1dce84d4269cb5e484feb">getPrivateKeys</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns all private keys in cache, loaded from keystore or picked up during operation. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0b98e47496fdd74d647a1cb72668c950"></a><!-- doxytag: member="org::ccnx::ccn::impl::security::keys::SecureKeyCache::getMyPrivateKeys" ref="a0b98e47496fdd74d647a1cb72668c950" args="()" -->
PrivateKey[]&nbsp;</td><td class="memItemRight" valign="bottom"><b>getMyPrivateKeys</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">synchronized void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_secure_key_cache.html#a05d8744078c59c12292b70010ce09842">addPrivateKey</a> (<a class="el" href="classorg_1_1ccnx_1_1ccn_1_1protocol_1_1_content_name.html">ContentName</a> keyName, byte[] publicKeyIdentifier, PrivateKey pk)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Records a private key and the name and digest of the corresponding public key.  <a href="#a05d8744078c59c12292b70010ce09842"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">synchronized void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_secure_key_cache.html#a9b131008c92ab10c06fd4eeb5d9546b3">addMyPrivateKey</a> (byte[] publicKeyIdentifier, PrivateKey pk)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Records one of my private keys and the digest of the corresponding public key.  <a href="#a9b131008c92ab10c06fd4eeb5d9546b3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">synchronized void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_secure_key_cache.html#a43e00b1198b6ff057680f6b0a4b40a34">addKey</a> (<a class="el" href="classorg_1_1ccnx_1_1ccn_1_1protocol_1_1_content_name.html">ContentName</a> name, Key key)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Make a record of a key by its name and digest.  <a href="#a43e00b1198b6ff057680f6b0a4b40a34"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9635543ab730a93d19bb03e216573841"></a><!-- doxytag: member="org::ccnx::ccn::impl::security::keys::SecureKeyCache::getPublicKeyIdentifier" ref="a9635543ab730a93d19bb03e216573841" args="(PrivateKey pk)" -->
<a class="el" href="classorg_1_1ccnx_1_1ccn_1_1protocol_1_1_publisher_public_key_digest.html">PublisherPublicKeyDigest</a>&nbsp;</td><td class="memItemRight" valign="bottom"><b>getPublicKeyIdentifier</b> (PrivateKey pk)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_secure_key_cache.html#afffa0891afdf8176410c5deb8946993a">size</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return a total count of keys in this cache.  <a href="#afffa0891afdf8176410c5deb8946993a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">synchronized void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_secure_key_cache.html#aef3ac3c7f1b73a742cf0c14870f11790">merge</a> (<a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_secure_key_cache.html">SecureKeyCache</a> cache)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Merges the <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_secure_key_cache.html" title="A container for our private keys and other secret key material that we have retrieved...">SecureKeyCache</a> with a given <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_secure_key_cache.html" title="A container for our private keys and other secret key material that we have retrieved...">SecureKeyCache</a>.  <a href="#aef3ac3c7f1b73a742cf0c14870f11790"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a21fc6a696e6b61b31341e4b8352506b4"></a><!-- doxytag: member="org::ccnx::ccn::impl::security::keys::SecureKeyCache::printContents" ref="a21fc6a696e6b61b31341e4b8352506b4" args="()" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_secure_key_cache.html#a21fc6a696e6b61b31341e4b8352506b4">printContents</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Debugging utility to print the contents of the secureKeyCache. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">boolean&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_secure_key_cache.html#a96aa7e64e268a5e1e1de95492f4c24f9">validateForWriting</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Make sure everything in here is Serializable.  <a href="#a96aa7e64e268a5e1e1de95492f4c24f9"></a><br/></td></tr>
<tr><td colspan="2"><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static byte[]&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_secure_key_cache.html#a3948dde81e9dcb65d981c797d20d1ed9">getKeyIdentifier</a> (Key key)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the digest of a specified key.  <a href="#a3948dde81e9dcb65d981c797d20d1ed9"></a><br/></td></tr>
<tr><td colspan="2"><h2>Static Package Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a65fe9ccc4d8fcacde5ff9b408b1db77a"></a><!-- doxytag: member="org::ccnx::ccn::impl::security::keys::SecureKeyCache::byteArrayComparator" ref="a65fe9ccc4d8fcacde5ff9b408b1db77a" args="" -->
static Comparator&lt; byte[]&gt;&nbsp;</td><td class="memItemRight" valign="bottom"><b>byteArrayComparator</b> = new <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1support_1_1_byte_array_compare.html">ByteArrayCompare</a>()</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>A container for our private keys and other secret key material that we have retrieved (e.g. </p>
<p>from access control).</p>
<p>TODO: finish mechanism that saves the key cache between runs. </p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a38f17c37edb7c5563c7f0c87329c9906"></a><!-- doxytag: member="org::ccnx::ccn::impl::security::keys::SecureKeyCache::SecureKeyCache" ref="a38f17c37edb7c5563c7f0c87329c9906" args="(KeyManager keyManagerToLoadFrom)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">org.ccnx.ccn.impl.security.keys.SecureKeyCache.SecureKeyCache </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1_key_manager.html">KeyManager</a>&nbsp;</td>
          <td class="paramname"> <em>keyManagerToLoadFrom</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Constructor that loads keys from a <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1_key_manager.html" title="Top-level interface for managing our own keys, as well as maintaining an address...">KeyManager</a>. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>keyManagerToLoadFrom</em>&nbsp;</td><td>the key manager TODO bug -- should merge key caches, not just load signing keys. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a43e00b1198b6ff057680f6b0a4b40a34"></a><!-- doxytag: member="org::ccnx::ccn::impl::security::keys::SecureKeyCache::addKey" ref="a43e00b1198b6ff057680f6b0a4b40a34" args="(ContentName name, Key key)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">synchronized void org.ccnx.ccn.impl.security.keys.SecureKeyCache.addKey </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1protocol_1_1_content_name.html">ContentName</a>&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Key&nbsp;</td>
          <td class="paramname"> <em>key</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Make a record of a key by its name and digest. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>the name of the key. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>key</em>&nbsp;</td><td>the key. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a9b131008c92ab10c06fd4eeb5d9546b3"></a><!-- doxytag: member="org::ccnx::ccn::impl::security::keys::SecureKeyCache::addMyPrivateKey" ref="a9b131008c92ab10c06fd4eeb5d9546b3" args="(byte[] publicKeyIdentifier, PrivateKey pk)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">synchronized void org.ccnx.ccn.impl.security.keys.SecureKeyCache.addMyPrivateKey </td>
          <td>(</td>
          <td class="paramtype">byte[]&nbsp;</td>
          <td class="paramname"> <em>publicKeyIdentifier</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PrivateKey&nbsp;</td>
          <td class="paramname"> <em>pk</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Records one of my private keys and the digest of the corresponding public key. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>publicKeyIdentifier</em>&nbsp;</td><td>the digest of the public key. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pk</em>&nbsp;</td><td>the corresponding private key. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a05d8744078c59c12292b70010ce09842"></a><!-- doxytag: member="org::ccnx::ccn::impl::security::keys::SecureKeyCache::addPrivateKey" ref="a05d8744078c59c12292b70010ce09842" args="(ContentName keyName, byte[] publicKeyIdentifier, PrivateKey pk)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">synchronized void org.ccnx.ccn.impl.security.keys.SecureKeyCache.addPrivateKey </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1protocol_1_1_content_name.html">ContentName</a>&nbsp;</td>
          <td class="paramname"> <em>keyName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte[]&nbsp;</td>
          <td class="paramname"> <em>publicKeyIdentifier</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PrivateKey&nbsp;</td>
          <td class="paramname"> <em>pk</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Records a private key and the name and digest of the corresponding public key. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>keyName</em>&nbsp;</td><td>a name under which to look up the private key </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>publicKeyIdentifier</em>&nbsp;</td><td>the digest of the public key </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pk</em>&nbsp;</td><td>the private key </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a37797fb49c22e81c8350b7b730275166"></a><!-- doxytag: member="org::ccnx::ccn::impl::security::keys::SecureKeyCache::containsKey" ref="a37797fb49c22e81c8350b7b730275166" args="(ContentName keyName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boolean org.ccnx.ccn.impl.security.keys.SecureKeyCache.containsKey </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1protocol_1_1_content_name.html">ContentName</a>&nbsp;</td>
          <td class="paramname"> <em>keyName</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>As the map from name to content is not unique, this might not give you a definite answer, and you should still check the digest. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>keyName</em>&nbsp;</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd></dd></dl>

</div>
</div>
<a class="anchor" id="a9e1a657db9d7d9c07106b4c6ec0bc377"></a><!-- doxytag: member="org::ccnx::ccn::impl::security::keys::SecureKeyCache::containsKey" ref="a9e1a657db9d7d9c07106b4c6ec0bc377" args="(byte[] keyIdentifier)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boolean org.ccnx.ccn.impl.security.keys.SecureKeyCache.containsKey </td>
          <td>(</td>
          <td class="paramtype">byte[]&nbsp;</td>
          <td class="paramname"> <em>keyIdentifier</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Checks whether we have a record of a key specified by its digest, or in the case of a private key, the digest of the corresponding public key. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>keyIdentifier</em>&nbsp;</td><td>the key digest. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd></dd></dl>

</div>
</div>
<a class="anchor" id="a8b27fe5aaa72fb7b5fd322a604fbd104"></a><!-- doxytag: member="org::ccnx::ccn::impl::security::keys::SecureKeyCache::getKey" ref="a8b27fe5aaa72fb7b5fd322a604fbd104" args="(byte[] desiredKeyIdentifier)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Key org.ccnx.ccn.impl.security.keys.SecureKeyCache.getKey </td>
          <td>(</td>
          <td class="paramtype">byte[]&nbsp;</td>
          <td class="paramname"> <em>desiredKeyIdentifier</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Retrieve a key specified by its digest To restrict access to keys, store key cache in a private variable, and don't allow references to it from untrusted code. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>desiredKeyIdentifier</em>&nbsp;</td><td>the digest </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the key </dd></dl>

</div>
</div>
<a class="anchor" id="a64309aa02d2f26839ef43ded9ad8ada7"></a><!-- doxytag: member="org::ccnx::ccn::impl::security::keys::SecureKeyCache::getKeyID" ref="a64309aa02d2f26839ef43ded9ad8ada7" args="(ContentName versionedName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">byte [] org.ccnx.ccn.impl.security.keys.SecureKeyCache.getKeyID </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1protocol_1_1_content_name.html">ContentName</a>&nbsp;</td>
          <td class="paramname"> <em>versionedName</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the key ID associated with a name, if we have one. </p>
<p>Currently store keys under versioned names -- might be nice to effectively search over versions of a key... This can be used to look up the key, allowing the caller to be sure they have the right key. </p>

</div>
</div>
<a class="anchor" id="a3948dde81e9dcb65d981c797d20d1ed9"></a><!-- doxytag: member="org::ccnx::ccn::impl::security::keys::SecureKeyCache::getKeyIdentifier" ref="a3948dde81e9dcb65d981c797d20d1ed9" args="(Key key)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static byte [] org.ccnx.ccn.impl.security.keys.SecureKeyCache.getKeyIdentifier </td>
          <td>(</td>
          <td class="paramtype">Key&nbsp;</td>
          <td class="paramname"> <em>key</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the digest of a specified key. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>key</em>&nbsp;</td><td>the key. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the digest. </dd></dl>

</div>
</div>
<a class="anchor" id="ab12bd8c2c5900225f54881eb0f1e7244"></a><!-- doxytag: member="org::ccnx::ccn::impl::security::keys::SecureKeyCache::getPrivateKey" ref="ab12bd8c2c5900225f54881eb0f1e7244" args="(byte[] desiredPublicKeyIdentifier)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PrivateKey org.ccnx.ccn.impl.security.keys.SecureKeyCache.getPrivateKey </td>
          <td>(</td>
          <td class="paramtype">byte[]&nbsp;</td>
          <td class="paramname"> <em>desiredPublicKeyIdentifier</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the private key corresponding to a public key specified by its digest. </p>
<p>To restrict access to keys, store key cache in a private variable, and don't allow references to it from untrusted code. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>desiredPublicKeyIdentifier</em>&nbsp;</td><td>the digest of the public key. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the corresponding private key. </dd></dl>

</div>
</div>
<a class="anchor" id="a0536caacf41fe884130b3fd5d494bb94"></a><!-- doxytag: member="org::ccnx::ccn::impl::security::keys::SecureKeyCache::loadKeyStore" ref="a0536caacf41fe884130b3fd5d494bb94" args="(KeyStoreInfo keyStoreInfo, char[] password, PublicKeyCache publicKeyCache)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void org.ccnx.ccn.impl.security.keys.SecureKeyCache.loadKeyStore </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_key_store_info.html">KeyStoreInfo</a>&nbsp;</td>
          <td class="paramname"> <em>keyStoreInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char[]&nbsp;</td>
          <td class="paramname"> <em>password</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_public_key_cache.html">PublicKeyCache</a>&nbsp;</td>
          <td class="paramname"> <em>publicKeyCache</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td>  throws KeyStoreException </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Load the private keys from a KeyStore. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>keystore</em>&nbsp;</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>KeyStoreException</em>&nbsp;</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aef3ac3c7f1b73a742cf0c14870f11790"></a><!-- doxytag: member="org::ccnx::ccn::impl::security::keys::SecureKeyCache::merge" ref="aef3ac3c7f1b73a742cf0c14870f11790" args="(SecureKeyCache cache)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">synchronized void org.ccnx.ccn.impl.security.keys.SecureKeyCache.merge </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_secure_key_cache.html">SecureKeyCache</a>&nbsp;</td>
          <td class="paramname"> <em>cache</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Merges the <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_secure_key_cache.html" title="A container for our private keys and other secret key material that we have retrieved...">SecureKeyCache</a> with a given <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_secure_key_cache.html" title="A container for our private keys and other secret key material that we have retrieved...">SecureKeyCache</a>. </p>
<p>The original <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_secure_key_cache.html" title="A container for our private keys and other secret key material that we have retrieved...">SecureKeyCache</a> dominates, i.e. the merged cache will contain the names in the original cache if there are any conflicts</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>cache</em>&nbsp;</td><td>the <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_secure_key_cache.html" title="A container for our private keys and other secret key material that we have retrieved...">SecureKeyCache</a> to merge with </td></tr>
  </table>
  </dd>
</dl>

<p><p>_keyMap.putAll(cache._keyMap); _myKeyMap.putAll(cache._myKeyMap); _privateKeyMap.putAll(cache._privateKeyMap); _privateKeyIdentifierMap.putAll(cache._privateKeyIdentifierMap);</p>
<p>Collection&lt;byte[]&gt; digests = cache._nameKeyMap.values(); Iterator&lt;byte[]&gt; it = digests.iterator(); while (it.hasNext()) {</p>
<p>if (this._nameKeyMap.containsValue(it.next())) { it.remove(); } }</p>
<p>_nameKeyMap.putAll(cache._nameKeyMap);</p>
</p>

</div>
</div>
<a class="anchor" id="afffa0891afdf8176410c5deb8946993a"></a><!-- doxytag: member="org::ccnx::ccn::impl::security::keys::SecureKeyCache::size" ref="afffa0891afdf8176410c5deb8946993a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int org.ccnx.ccn.impl.security.keys.SecureKeyCache.size </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return a total count of keys in this cache. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd></dd></dl>

</div>
</div>
<a class="anchor" id="a96aa7e64e268a5e1e1de95492f4c24f9"></a><!-- doxytag: member="org::ccnx::ccn::impl::security::keys::SecureKeyCache::validateForWriting" ref="a96aa7e64e268a5e1e1de95492f4c24f9" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boolean org.ccnx.ccn.impl.security.keys.SecureKeyCache.validateForWriting </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Make sure everything in here is Serializable. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd></dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/org/ccnx/ccn/impl/security/keys/SecureKeyCache.java</li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on Thu Nov 4 13:34:28 2010 for Content-Centric Networking in Java by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
