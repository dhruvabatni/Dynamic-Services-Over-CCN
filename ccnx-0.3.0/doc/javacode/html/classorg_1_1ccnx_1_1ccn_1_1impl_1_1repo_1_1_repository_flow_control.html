<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Content-Centric Networking in Java: org.ccnx.ccn.impl.repo.RepositoryFlowControl Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><b>org</b>.<b>ccnx</b>.<b>ccn</b>.<b>impl</b>.<b>repo</b>.<a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1repo_1_1_repository_flow_control.html">RepositoryFlowControl</a>
  </div>
</div>
<div class="contents">
<h1>org.ccnx.ccn.impl.repo.RepositoryFlowControl Class Reference</h1><!-- doxytag: class="org::ccnx::ccn::impl::repo::RepositoryFlowControl" --><!-- doxytag: inherits="org::ccnx::ccn::impl::CCNFlowControl,org::ccnx::ccn::CCNInterestListener" -->
<p>Handle repo specialty start/end protocol.  
<a href="#_details">More...</a></p>

<p><a href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1repo_1_1_repository_flow_control-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1repo_1_1_repository_flow_control_1_1_client.html">Client</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Preserves information about our clients.  <a href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1repo_1_1_repository_flow_control_1_1_client.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><b>RepoAckHandler</b></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The names returned by NameEnumerator are only the 1 level names without prefix, but the names we are holding contain the basename so we reconstruct a full name here. <br/></td></tr>
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1protocol_1_1_interest.html">Interest</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1repo_1_1_repository_flow_control.html#a945c37206deae0121505e12971ee0a6b">handleContent</a> (<a class="el" href="classorg_1_1ccnx_1_1ccn_1_1protocol_1_1_content_object.html">ContentObject</a> co, <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1protocol_1_1_interest.html">Interest</a> interest)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Handles packets received from the repository after the start write request.  <a href="#a945c37206deae0121505e12971ee0a6b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1repo_1_1_repository_flow_control.html#aa51b7ac8ac6518eb194d838b7acf4ab3">RepositoryFlowControl</a> (<a class="el" href="classorg_1_1ccnx_1_1ccn_1_1_c_c_n_handle.html">CCNHandle</a> handle)  throws IOException </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1repo_1_1_repository_flow_control.html#a34b7332b6fcddf1f2cf4c9c3fbfb5b4c">RepositoryFlowControl</a> (<a class="el" href="classorg_1_1ccnx_1_1ccn_1_1_c_c_n_handle.html">CCNHandle</a> handle, boolean local)  throws IOException </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">constructor to allow the repo flow controller to set the scope for the start write interest  <a href="#a34b7332b6fcddf1f2cf4c9c3fbfb5b4c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1repo_1_1_repository_flow_control.html#a191333a51f24ee7f8b865cc6cebaeda4">RepositoryFlowControl</a> (<a class="el" href="classorg_1_1ccnx_1_1ccn_1_1protocol_1_1_content_name.html">ContentName</a> name, <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1_c_c_n_handle.html">CCNHandle</a> handle)  throws IOException </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1repo_1_1_repository_flow_control.html#ad5899af92cfcdf68e9abd63e788902f2">RepositoryFlowControl</a> (<a class="el" href="classorg_1_1ccnx_1_1ccn_1_1protocol_1_1_content_name.html">ContentName</a> name, <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1_c_c_n_handle.html">CCNHandle</a> handle, boolean local)  throws IOException </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1repo_1_1_repository_flow_control.html#a5683fc9e8eb9aee677407c4227f49d8a">RepositoryFlowControl</a> (<a class="el" href="classorg_1_1ccnx_1_1ccn_1_1protocol_1_1_content_name.html">ContentName</a> name, <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1_c_c_n_handle.html">CCNHandle</a> handle, Shape shape)  throws IOException </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1repo_1_1_repository_flow_control.html#a9395009120e59f1f442d1d44d5a9b211">RepositoryFlowControl</a> (<a class="el" href="classorg_1_1ccnx_1_1ccn_1_1protocol_1_1_content_name.html">ContentName</a> name, <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1_c_c_n_handle.html">CCNHandle</a> handle, Shape shape, boolean local)  throws IOException </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1repo_1_1_repository_flow_control.html#a12b5a09ebddb7cd1ab2a1abb6b7de5ed">startWrite</a> (<a class="el" href="classorg_1_1ccnx_1_1ccn_1_1protocol_1_1_content_name.html">ContentName</a> name, Shape shape)  throws IOException </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Send out a start write request to any listening repositories and wait for a response.  <a href="#a12b5a09ebddb7cd1ab2a1abb6b7de5ed"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1repo_1_1_repository_flow_control.html#ae17b6fe5391dadfadae28419a7ba2901">ack</a> (<a class="el" href="classorg_1_1ccnx_1_1ccn_1_1protocol_1_1_content_name.html">ContentName</a> name)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Handle acknowledgement packet from the repo.  <a href="#ae17b6fe5391dadfadae28419a7ba2901"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1repo_1_1_repository_flow_control.html#aa46c09f34eaa01fe309f171448906a06">setBestEffort</a> (boolean flag)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">BestEffort means the ACK protocol is not used.  <a href="#aa46c09f34eaa01fe309f171448906a06"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab184acd65dea7b005eab423798d5ade9"></a><!-- doxytag: member="org::ccnx::ccn::impl::repo::RepositoryFlowControl::flushComplete" ref="ab184acd65dea7b005eab423798d5ade9" args="()" -->
boolean&nbsp;</td><td class="memItemRight" valign="bottom"><b>flushComplete</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae4cf8ca6cd5844d0e63c63ce32900d75"></a><!-- doxytag: member="org::ccnx::ccn::impl::repo::RepositoryFlowControl::afterPutAction" ref="ae4cf8ca6cd5844d0e63c63ce32900d75" args="(ContentObject co)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1repo_1_1_repository_flow_control.html#ae4cf8ca6cd5844d0e63c63ce32900d75">afterPutAction</a> (<a class="el" href="classorg_1_1ccnx_1_1ccn_1_1protocol_1_1_content_object.html">ContentObject</a> co)  throws IOException </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Only used by unimplemented ACK protocol. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a79376f79d6c9ba0e8fc2e481ba6b13de"></a><!-- doxytag: member="org::ccnx::ccn::impl::repo::RepositoryFlowControl::beforeClose" ref="a79376f79d6c9ba0e8fc2e481ba6b13de" args="()" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1repo_1_1_repository_flow_control.html#a79376f79d6c9ba0e8fc2e481ba6b13de">beforeClose</a> ()  throws IOException </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Called after <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1_c_c_n_flow_control.html#a9e11f774579e286cfc8dec9b889bf7f1" title="Helper method to clean up and close.">close()</a> is called but before close attempts to flush its output data. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac05cb59243dc5b7cbd607b08e8ced4f8"></a><!-- doxytag: member="org::ccnx::ccn::impl::repo::RepositoryFlowControl::afterClose" ref="ac05cb59243dc5b7cbd607b08e8ced4f8" args="()" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1repo_1_1_repository_flow_control.html#ac05cb59243dc5b7cbd607b08e8ced4f8">afterClose</a> ()  throws IOException </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Called after close has completed a flush. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1repo_1_1_repository_flow_control.html#a131a75c67c6a7d206f5ad952b2da80df">cancelInterests</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Cancel any outstanding interests on close.  <a href="#a131a75c67c6a7d206f5ad952b2da80df"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad57f4dfdcebb638497c998a7028dc901"></a><!-- doxytag: member="org::ccnx::ccn::impl::repo::RepositoryFlowControl::saveType" ref="ad57f4dfdcebb638497c998a7028dc901" args="()" -->
SaveType&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1repo_1_1_repository_flow_control.html#ad57f4dfdcebb638497c998a7028dc901">saveType</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Help users determine what type of flow controller this is. <br/></td></tr>
<tr><td colspan="2"><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a61c95da755e102a1b0a81c57f07539fd"></a><!-- doxytag: member="org::ccnx::ccn::impl::repo::RepositoryFlowControl::_bestEffort" ref="a61c95da755e102a1b0a81c57f07539fd" args="" -->
boolean&nbsp;</td><td class="memItemRight" valign="bottom"><b>_bestEffort</b> = true</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aad5d12cf0a0f3f2334961a882b1b2240"></a><!-- doxytag: member="org::ccnx::ccn::impl::repo::RepositoryFlowControl::_writeInterests" ref="aad5d12cf0a0f3f2334961a882b1b2240" args="" -->
HashSet&lt; <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1protocol_1_1_interest.html">Interest</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><b>_writeInterests</b> = new HashSet&lt;<a class="el" href="classorg_1_1ccnx_1_1ccn_1_1protocol_1_1_interest.html">Interest</a>&gt;()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a38091ecefd1167ee1accd19dfb088866"></a><!-- doxytag: member="org::ccnx::ccn::impl::repo::RepositoryFlowControl::_blocksSinceAck" ref="a38091ecefd1167ee1accd19dfb088866" args="" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>_blocksSinceAck</b> = 0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7e208e8eca3e1e69c9265845b53a13a6"></a><!-- doxytag: member="org::ccnx::ccn::impl::repo::RepositoryFlowControl::_ackInterval" ref="a7e208e8eca3e1e69c9265845b53a13a6" args="" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>_ackInterval</b> = ACK_INTERVAL</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a13da07c89bbc7c9137da8c4c25282b8e"></a><!-- doxytag: member="org::ccnx::ccn::impl::repo::RepositoryFlowControl::_ackne" ref="a13da07c89bbc7c9137da8c4c25282b8e" args="" -->
<a class="el" href="classorg_1_1ccnx_1_1ccn_1_1profiles_1_1nameenum_1_1_c_c_n_name_enumerator.html">CCNNameEnumerator</a>&nbsp;</td><td class="memItemRight" valign="bottom"><b>_ackne</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a55484f2ec851b3a1ec61b0cf6b38a6c4"></a><!-- doxytag: member="org::ccnx::ccn::impl::repo::RepositoryFlowControl::_ackHandler" ref="a55484f2ec851b3a1ec61b0cf6b38a6c4" args="" -->
RepoAckHandler&nbsp;</td><td class="memItemRight" valign="bottom"><b>_ackHandler</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a899c2233dc1d17c4ff906e338c65cd01"></a><!-- doxytag: member="org::ccnx::ccn::impl::repo::RepositoryFlowControl::localRepo" ref="a899c2233dc1d17c4ff906e338c65cd01" args="" -->
boolean&nbsp;</td><td class="memItemRight" valign="bottom"><b>localRepo</b> = false</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac433cd32b993b18121268874a1fe3f73"></a><!-- doxytag: member="org::ccnx::ccn::impl::repo::RepositoryFlowControl::_clients" ref="ac433cd32b993b18121268874a1fe3f73" args="" -->
Queue&lt; <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1repo_1_1_repository_flow_control_1_1_client.html">Client</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><b>_clients</b> = new ConcurrentLinkedQueue&lt;<a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1repo_1_1_repository_flow_control_1_1_client.html">Client</a>&gt;()</td></tr>
<tr><td colspan="2"><h2>Static Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aed60095a8959628d76be722bff223289"></a><!-- doxytag: member="org::ccnx::ccn::impl::repo::RepositoryFlowControl::ACK_BLOCK_SIZE" ref="aed60095a8959628d76be722bff223289" args="" -->
static final int&nbsp;</td><td class="memItemRight" valign="bottom"><b>ACK_BLOCK_SIZE</b> = 20</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a05e59f2ded3a313f48cca6b17cd0964a"></a><!-- doxytag: member="org::ccnx::ccn::impl::repo::RepositoryFlowControl::ACK_INTERVAL" ref="a05e59f2ded3a313f48cca6b17cd0964a" args="" -->
static final int&nbsp;</td><td class="memItemRight" valign="bottom"><b>ACK_INTERVAL</b> = 128</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Handle repo specialty start/end protocol. </p>
<p>Needs to be able to handle multiple clients. Currently due to limitations in close, to do this requires that clients above close their streams in order when multiple streams are using the same FC.</p>
<p>Intended to handle the repo ack protocol. This is currently unused until we find a workable way to do it.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1_c_c_n_flow_control.html" title="This class implements an input buffer for interests and an output buffer for content...">CCNFlowControl</a> </dd>
<dd>
<a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1repo_1_1_repository_interest_handler.html" title="Handles interests matching the repository&#39;s namespace.">RepositoryInterestHandler</a> </dd></dl>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="aa51b7ac8ac6518eb194d838b7acf4ab3"></a><!-- doxytag: member="org::ccnx::ccn::impl::repo::RepositoryFlowControl::RepositoryFlowControl" ref="aa51b7ac8ac6518eb194d838b7acf4ab3" args="(CCNHandle handle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">org.ccnx.ccn.impl.repo.RepositoryFlowControl.RepositoryFlowControl </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1_c_c_n_handle.html">CCNHandle</a>&nbsp;</td>
          <td class="paramname"> <em>handle</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td>  throws IOException </td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>handle</em>&nbsp;</td><td>a <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1_c_c_n_handle.html" title="The core class encapsulating a Java interface to the CCN network.">CCNHandle</a> - if null one is created </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>IOException</em>&nbsp;</td><td>if library is null and a new <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1_c_c_n_handle.html" title="The core class encapsulating a Java interface to the CCN network.">CCNHandle</a> can't be created </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a34b7332b6fcddf1f2cf4c9c3fbfb5b4c"></a><!-- doxytag: member="org::ccnx::ccn::impl::repo::RepositoryFlowControl::RepositoryFlowControl" ref="a34b7332b6fcddf1f2cf4c9c3fbfb5b4c" args="(CCNHandle handle, boolean local)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">org.ccnx.ccn.impl.repo.RepositoryFlowControl.RepositoryFlowControl </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1_c_c_n_handle.html">CCNHandle</a>&nbsp;</td>
          <td class="paramname"> <em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boolean&nbsp;</td>
          <td class="paramname"> <em>local</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td>  throws IOException </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>constructor to allow the repo flow controller to set the scope for the start write interest </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>handle</em>&nbsp;</td><td>a <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1_c_c_n_handle.html" title="The core class encapsulating a Java interface to the CCN network.">CCNHandle</a> - if null, one is created </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>local</em>&nbsp;</td><td>boolean to determine if a general start write, or one with the scope set to one. A scope set to one will limit the write to a repo on the local device </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>IOException</em>&nbsp;</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a191333a51f24ee7f8b865cc6cebaeda4"></a><!-- doxytag: member="org::ccnx::ccn::impl::repo::RepositoryFlowControl::RepositoryFlowControl" ref="a191333a51f24ee7f8b865cc6cebaeda4" args="(ContentName name, CCNHandle handle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">org.ccnx.ccn.impl.repo.RepositoryFlowControl.RepositoryFlowControl </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1protocol_1_1_content_name.html">ContentName</a>&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1_c_c_n_handle.html">CCNHandle</a>&nbsp;</td>
          <td class="paramname"> <em>handle</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td>  throws IOException </td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>an initial namespace for this stream </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>handle</em>&nbsp;</td><td>a <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1_c_c_n_handle.html" title="The core class encapsulating a Java interface to the CCN network.">CCNHandle</a> - if null one is created </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>IOException</em>&nbsp;</td><td>if handle is null and a new <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1_c_c_n_handle.html" title="The core class encapsulating a Java interface to the CCN network.">CCNHandle</a> can't be created </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ad5899af92cfcdf68e9abd63e788902f2"></a><!-- doxytag: member="org::ccnx::ccn::impl::repo::RepositoryFlowControl::RepositoryFlowControl" ref="ad5899af92cfcdf68e9abd63e788902f2" args="(ContentName name, CCNHandle handle, boolean local)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">org.ccnx.ccn.impl.repo.RepositoryFlowControl.RepositoryFlowControl </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1protocol_1_1_content_name.html">ContentName</a>&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1_c_c_n_handle.html">CCNHandle</a>&nbsp;</td>
          <td class="paramname"> <em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boolean&nbsp;</td>
          <td class="paramname"> <em>local</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td>  throws IOException </td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>an initial namespace for this stream </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>handle</em>&nbsp;</td><td>a <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1_c_c_n_handle.html" title="The core class encapsulating a Java interface to the CCN network.">CCNHandle</a> - if null one is created </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>local</em>&nbsp;</td><td>boolean to determine if a general start write, or one with the scope set to one. A scope set to one will limit the write to a repo on the local device </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>IOException</em>&nbsp;</td><td>if handle is null and a new <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1_c_c_n_handle.html" title="The core class encapsulating a Java interface to the CCN network.">CCNHandle</a> can't be created </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a5683fc9e8eb9aee677407c4227f49d8a"></a><!-- doxytag: member="org::ccnx::ccn::impl::repo::RepositoryFlowControl::RepositoryFlowControl" ref="a5683fc9e8eb9aee677407c4227f49d8a" args="(ContentName name, CCNHandle handle, Shape shape)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">org.ccnx.ccn.impl.repo.RepositoryFlowControl.RepositoryFlowControl </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1protocol_1_1_content_name.html">ContentName</a>&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1_c_c_n_handle.html">CCNHandle</a>&nbsp;</td>
          <td class="paramname"> <em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Shape&nbsp;</td>
          <td class="paramname"> <em>shape</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td>  throws IOException </td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>an intial namespace for this stream </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>handle</em>&nbsp;</td><td>a <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1_c_c_n_handle.html" title="The core class encapsulating a Java interface to the CCN network.">CCNHandle</a> - if null one is created </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>shape</em>&nbsp;</td><td>shapes are not currently implemented and may be deprecated. The only currently defined shape is "Shape.STREAM" </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>IOException</em>&nbsp;</td><td>if handle is null and a new <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1_c_c_n_handle.html" title="The core class encapsulating a Java interface to the CCN network.">CCNHandle</a> can't be created </td></tr>
  </table>
  </dd>
</dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1_c_c_n_flow_control.html" title="This class implements an input buffer for interests and an output buffer for content...">CCNFlowControl</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a9395009120e59f1f442d1d44d5a9b211"></a><!-- doxytag: member="org::ccnx::ccn::impl::repo::RepositoryFlowControl::RepositoryFlowControl" ref="a9395009120e59f1f442d1d44d5a9b211" args="(ContentName name, CCNHandle handle, Shape shape, boolean local)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">org.ccnx.ccn.impl.repo.RepositoryFlowControl.RepositoryFlowControl </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1protocol_1_1_content_name.html">ContentName</a>&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1_c_c_n_handle.html">CCNHandle</a>&nbsp;</td>
          <td class="paramname"> <em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Shape&nbsp;</td>
          <td class="paramname"> <em>shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boolean&nbsp;</td>
          <td class="paramname"> <em>local</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td>  throws IOException </td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>an intial namespace for this stream </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>handle</em>&nbsp;</td><td>a <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1_c_c_n_handle.html" title="The core class encapsulating a Java interface to the CCN network.">CCNHandle</a> - if null one is created </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>shape</em>&nbsp;</td><td>shapes are not currently implemented and may be deprecated. The only currently defined shape is "Shape.STREAM" </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>local</em>&nbsp;</td><td>boolean to determine if a general start write, or one with the scope set to one. A scope set to one will limit the write to a repo on the local device </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>IOException</em>&nbsp;</td><td>if handle is null and a new <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1_c_c_n_handle.html" title="The core class encapsulating a Java interface to the CCN network.">CCNHandle</a> can't be created </td></tr>
  </table>
  </dd>
</dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1_c_c_n_flow_control.html" title="This class implements an input buffer for interests and an output buffer for content...">CCNFlowControl</a> </dd></dl>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="ae17b6fe5391dadfadae28419a7ba2901"></a><!-- doxytag: member="org::ccnx::ccn::impl::repo::RepositoryFlowControl::ack" ref="ae17b6fe5391dadfadae28419a7ba2901" args="(ContentName name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void org.ccnx.ccn.impl.repo.RepositoryFlowControl.ack </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1protocol_1_1_content_name.html">ContentName</a>&nbsp;</td>
          <td class="paramname"> <em>name</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Handle acknowledgement packet from the repo. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a131a75c67c6a7d206f5ad952b2da80df"></a><!-- doxytag: member="org::ccnx::ccn::impl::repo::RepositoryFlowControl::cancelInterests" ref="a131a75c67c6a7d206f5ad952b2da80df" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void org.ccnx.ccn.impl.repo.RepositoryFlowControl.cancelInterests </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Cancel any outstanding interests on close. </p>
<p>TODO - since the flow controller may be used by multiple streams we probably want to use Clients to decide what interests to cancel. </p>

</div>
</div>
<a class="anchor" id="a945c37206deae0121505e12971ee0a6b"></a><!-- doxytag: member="org::ccnx::ccn::impl::repo::RepositoryFlowControl::handleContent" ref="a945c37206deae0121505e12971ee0a6b" args="(ContentObject co, Interest interest)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1protocol_1_1_interest.html">Interest</a> org.ccnx.ccn.impl.repo.RepositoryFlowControl.handleContent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1protocol_1_1_content_object.html">ContentObject</a>&nbsp;</td>
          <td class="paramname"> <em>co</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1protocol_1_1_interest.html">Interest</a>&nbsp;</td>
          <td class="paramname"> <em>interest</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Handles packets received from the repository after the start write request. </p>
<p>It's looking for a RepoInfo packet indicating a repository has responded. </p>

<p>Implements <a class="el" href="interfaceorg_1_1ccnx_1_1ccn_1_1_c_c_n_interest_listener.html#a9dff8eaa65f047bd74f4f1cc0da9c454">org.ccnx.ccn.CCNInterestListener</a>.</p>

</div>
</div>
<a class="anchor" id="aa46c09f34eaa01fe309f171448906a06"></a><!-- doxytag: member="org::ccnx::ccn::impl::repo::RepositoryFlowControl::setBestEffort" ref="aa46c09f34eaa01fe309f171448906a06" args="(boolean flag)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void org.ccnx.ccn.impl.repo.RepositoryFlowControl.setBestEffort </td>
          <td>(</td>
          <td class="paramtype">boolean&nbsp;</td>
          <td class="paramname"> <em>flag</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>BestEffort means the ACK protocol is not used. </p>
<p>BestEffort should never be set false within the current implementation. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>flag</em>&nbsp;</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a12b5a09ebddb7cd1ab2a1abb6b7de5ed"></a><!-- doxytag: member="org::ccnx::ccn::impl::repo::RepositoryFlowControl::startWrite" ref="a12b5a09ebddb7cd1ab2a1abb6b7de5ed" args="(ContentName name, Shape shape)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void org.ccnx.ccn.impl.repo.RepositoryFlowControl.startWrite </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1protocol_1_1_content_name.html">ContentName</a>&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Shape&nbsp;</td>
          <td class="paramname"> <em>shape</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td>  throws IOException </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Send out a start write request to any listening repositories and wait for a response. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>the basename of the stream to start </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>shape</em>&nbsp;</td><td>currently ignored - can only be Shape.STREAM </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>IOException</em>&nbsp;</td><td>if there is no response from a repository </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1_c_c_n_flow_control.html#a8bfc829a1e6e762e4de36fdefea079e3">org.ccnx.ccn.impl.CCNFlowControl</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/org/ccnx/ccn/impl/repo/RepositoryFlowControl.java</li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on Thu Nov 4 13:34:27 2010 for Content-Centric Networking in Java by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
