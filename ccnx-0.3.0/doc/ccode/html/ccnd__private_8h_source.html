<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Content-Centric Networking in C: ccnd/ccnd_private.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="dir_08d312536376a2d86cc18c015e1430cf.html">ccnd</a>
  </div>
</div>
<div class="contents">
<h1>ccnd_private.h</h1><a href="ccnd__private_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/**</span>
<a name="l00002"></a>00002 <span class="comment"> * @file ccnd_private.h</span>
<a name="l00003"></a>00003 <span class="comment"> * </span>
<a name="l00004"></a>00004 <span class="comment"> * Private definitions for ccnd - the CCNx daemon.</span>
<a name="l00005"></a>00005 <span class="comment"> * Data structures are described here so that logging and status</span>
<a name="l00006"></a>00006 <span class="comment"> * routines can be compiled separately.</span>
<a name="l00007"></a>00007 <span class="comment"> *</span>
<a name="l00008"></a>00008 <span class="comment"> * Part of ccnd - the CCNx Daemon.</span>
<a name="l00009"></a>00009 <span class="comment"> *</span>
<a name="l00010"></a>00010 <span class="comment"> * Copyright (C) 2008-2010 Palo Alto Research Center, Inc.</span>
<a name="l00011"></a>00011 <span class="comment"> *</span>
<a name="l00012"></a>00012 <span class="comment"> * This work is free software; you can redistribute it and/or modify it under</span>
<a name="l00013"></a>00013 <span class="comment"> * the terms of the GNU General Public License version 2 as published by the</span>
<a name="l00014"></a>00014 <span class="comment"> * Free Software Foundation.</span>
<a name="l00015"></a>00015 <span class="comment"> * This work is distributed in the hope that it will be useful, but WITHOUT ANY</span>
<a name="l00016"></a>00016 <span class="comment"> * WARRANTY; without even the implied warranty of MERCHANTABILITY or</span>
<a name="l00017"></a>00017 <span class="comment"> * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License</span>
<a name="l00018"></a>00018 <span class="comment"> * for more details. You should have received a copy of the GNU General Public</span>
<a name="l00019"></a>00019 <span class="comment"> * License along with this program; if not, write to the</span>
<a name="l00020"></a>00020 <span class="comment"> * Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor,</span>
<a name="l00021"></a>00021 <span class="comment"> * Boston, MA 02110-1301, USA.</span>
<a name="l00022"></a>00022 <span class="comment"> */</span>
<a name="l00023"></a>00023  
<a name="l00024"></a>00024 <span class="preprocessor">#ifndef CCND_PRIVATE_DEFINED</span>
<a name="l00025"></a>00025 <span class="preprocessor"></span><span class="preprocessor">#define CCND_PRIVATE_DEFINED</span>
<a name="l00026"></a>00026 <span class="preprocessor"></span>
<a name="l00027"></a>00027 <span class="preprocessor">#include &lt;poll.h&gt;</span>
<a name="l00028"></a>00028 <span class="preprocessor">#include &lt;stdarg.h&gt;</span>
<a name="l00029"></a>00029 <span class="preprocessor">#include &lt;stddef.h&gt;</span>
<a name="l00030"></a>00030 <span class="preprocessor">#include &lt;stdint.h&gt;</span>
<a name="l00031"></a>00031 <span class="preprocessor">#include &lt;sys/socket.h&gt;</span>
<a name="l00032"></a>00032 <span class="preprocessor">#include &lt;sys/types.h&gt;</span>
<a name="l00033"></a>00033 
<a name="l00034"></a>00034 <span class="preprocessor">#include &lt;<a class="code" href="ccn__private_8h.html" title="Additional operations that are irrevalent for most clients.">ccn/ccn_private.h</a>&gt;</span>
<a name="l00035"></a>00035 <span class="preprocessor">#include &lt;<a class="code" href="coding_8h.html" title="Details of the ccn binary wire encoding.">ccn/coding.h</a>&gt;</span>
<a name="l00036"></a>00036 <span class="preprocessor">#include &lt;<a class="code" href="reg__mgmt_8h.html" title="Part of the CCNx C Library.">ccn/reg_mgmt.h</a>&gt;</span>
<a name="l00037"></a>00037 <span class="preprocessor">#include &lt;<a class="code" href="schedule_8h.html" title="Event scheduling.">ccn/schedule.h</a>&gt;</span>
<a name="l00038"></a>00038 <span class="preprocessor">#include &lt;<a class="code" href="seqwriter_8h.html" title="Part of the CCNx C Library.">ccn/seqwriter.h</a>&gt;</span>
<a name="l00039"></a>00039 
<a name="l00040"></a>00040 <span class="comment">/*</span>
<a name="l00041"></a>00041 <span class="comment"> * These are defined in other ccn headers, but the incomplete types suffice</span>
<a name="l00042"></a>00042 <span class="comment"> * for the purposes of this header.</span>
<a name="l00043"></a>00043 <span class="comment"> */</span>
<a name="l00044"></a>00044 <span class="keyword">struct </span><a class="code" href="structccn__charbuf.html">ccn_charbuf</a>;
<a name="l00045"></a>00045 <span class="keyword">struct </span><a class="code" href="structccn__indexbuf.html">ccn_indexbuf</a>;
<a name="l00046"></a>00046 <span class="keyword">struct </span>hashtb;
<a name="l00047"></a>00047 
<a name="l00048"></a>00048 <span class="comment">/*</span>
<a name="l00049"></a>00049 <span class="comment"> * These are defined in this header.</span>
<a name="l00050"></a>00050 <span class="comment"> */</span>
<a name="l00051"></a>00051 <span class="keyword">struct </span><a class="code" href="structccnd__handle.html" title="We pass this handle almost everywhere within ccnd.">ccnd_handle</a>;
<a name="l00052"></a>00052 <span class="keyword">struct </span><a class="code" href="structface.html" title="One of our active faces.">face</a>;
<a name="l00053"></a>00053 <span class="keyword">struct </span><a class="code" href="structcontent__entry.html" title="The content hash table is keyed by the initial portion of the ContentObject that...">content_entry</a>;
<a name="l00054"></a>00054 <span class="keyword">struct </span><a class="code" href="structnameprefix__entry.html" title="The nameprefix hash table is keyed by the Component elements of the Name prefix.">nameprefix_entry</a>;
<a name="l00055"></a>00055 <span class="keyword">struct </span><a class="code" href="structpropagating__entry.html" title="The propagating interest hash table is keyed by Nonce.">propagating_entry</a>;
<a name="l00056"></a>00056 <span class="keyword">struct </span>content_tree_node;
<a name="l00057"></a><a class="code" href="ccnd__private_8h.html#a3aefd40c7e4223bc3d13408afb1ad2ab">00057</a> <span class="keyword">struct </span><a class="code" href="structccn__forwarding.html" title="Keeps track of the faces that interests matching a given name prefix may be forwarded...">ccn_forwarding</a>;
<a name="l00058"></a>00058 
<a name="l00059"></a>00059 <span class="comment">//typedef uint_least64_t ccn_accession_t;</span>
<a name="l00060"></a>00060 <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <a class="code" href="ccnd__private_8h.html#a3aefd40c7e4223bc3d13408afb1ad2ab">ccn_accession_t</a>;
<a name="l00061"></a>00061 
<a name="l00062"></a><a class="code" href="ccnd__private_8h.html#a6b42f2191353fac0f6001019a047f2c1">00062</a> <span class="keyword">typedef</span> int (*<a class="code" href="ccnd__private_8h.html#a6b42f2191353fac0f6001019a047f2c1">ccnd_logger</a>)(<span class="keywordtype">void</span> *loggerdata, <span class="keyword">const</span> <span class="keywordtype">char</span> *format, va_list ap);
<a name="l00063"></a>00063 <span class="comment"></span>
<a name="l00064"></a>00064 <span class="comment">/**</span>
<a name="l00065"></a>00065 <span class="comment"> * We pass this handle almost everywhere within ccnd</span>
<a name="l00066"></a>00066 <span class="comment"> */</span>
<a name="l00067"></a><a class="code" href="structccnd__handle.html">00067</a> <span class="keyword">struct </span><a class="code" href="structccnd__handle.html" title="We pass this handle almost everywhere within ccnd.">ccnd_handle</a> {
<a name="l00068"></a><a class="code" href="structccnd__handle.html#a935a4fbf6e79b677d425d49661326e7e">00068</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="structccnd__handle.html#a935a4fbf6e79b677d425d49661326e7e" title="sha256 digest of our public key">ccnd_id</a>[32];      <span class="comment">/**&lt; sha256 digest of our public key */</span>
<a name="l00069"></a><a class="code" href="structccnd__handle.html#a1d1374560415ff83c2e11a6143ad099e">00069</a>     <span class="keyword">struct </span>hashtb *<a class="code" href="structccnd__handle.html#a1d1374560415ff83c2e11a6143ad099e" title="keyed by fd">faces_by_fd</a>;     <span class="comment">/**&lt; keyed by fd */</span>
<a name="l00070"></a><a class="code" href="structccnd__handle.html#a810d74a479e84a246b0099678ca2e947">00070</a>     <span class="keyword">struct </span>hashtb *<a class="code" href="structccnd__handle.html#a810d74a479e84a246b0099678ca2e947" title="keyed by sockaddr">dgram_faces</a>;     <span class="comment">/**&lt; keyed by sockaddr */</span>
<a name="l00071"></a><a class="code" href="structccnd__handle.html#af043c3507893c8317309c9b3f617420a">00071</a>     <span class="keyword">struct </span>hashtb *<a class="code" href="structccnd__handle.html#af043c3507893c8317309c9b3f617420a" title="keyed by portion of ContentObject">content_tab</a>;     <span class="comment">/**&lt; keyed by portion of ContentObject */</span>
<a name="l00072"></a><a class="code" href="structccnd__handle.html#a0e4292a58e39e2653ae93095c48bb864">00072</a>     <span class="keyword">struct </span>hashtb *<a class="code" href="structccnd__handle.html#a0e4292a58e39e2653ae93095c48bb864" title="keyed by name prefix components">nameprefix_tab</a>;  <span class="comment">/**&lt; keyed by name prefix components */</span>
<a name="l00073"></a><a class="code" href="structccnd__handle.html#a4b6570c9327daf4e0279e536b53fd031">00073</a>     <span class="keyword">struct </span>hashtb *<a class="code" href="structccnd__handle.html#a4b6570c9327daf4e0279e536b53fd031" title="keyed by nonce">propagating_tab</a>; <span class="comment">/**&lt; keyed by nonce */</span>
<a name="l00074"></a><a class="code" href="structccnd__handle.html#a37877152773a9d7ed0230d36f66a6856">00074</a>     <span class="keyword">struct </span><a class="code" href="structccn__indexbuf.html">ccn_indexbuf</a> *<a class="code" href="structccnd__handle.html#a37877152773a9d7ed0230d36f66a6856" title="skiplist for content-ordered ops">skiplinks</a>; <span class="comment">/**&lt; skiplist for content-ordered ops */</span>
<a name="l00075"></a><a class="code" href="structccnd__handle.html#aa9a6c41ca3e4ade13b5bdee5a94de619">00075</a>     <span class="keywordtype">unsigned</span> <a class="code" href="structccnd__handle.html#aa9a6c41ca3e4ade13b5bdee5a94de619" title="for forward_to updates">forward_to_gen</a>;        <span class="comment">/**&lt; for forward_to updates */</span>
<a name="l00076"></a><a class="code" href="structccnd__handle.html#a9eb5fb2919e93320a70f8b3cc5ab2825">00076</a>     <span class="keywordtype">unsigned</span> <a class="code" href="structccnd__handle.html#a9eb5fb2919e93320a70f8b3cc5ab2825" title="faceid generation number">face_gen</a>;              <span class="comment">/**&lt; faceid generation number */</span>
<a name="l00077"></a><a class="code" href="structccnd__handle.html#a0100f7aae1478208700448cccf2ee073">00077</a>     <span class="keywordtype">unsigned</span> <a class="code" href="structccnd__handle.html#a0100f7aae1478208700448cccf2ee073" title="for faceid allocation">face_rover</a>;            <span class="comment">/**&lt; for faceid allocation */</span>
<a name="l00078"></a><a class="code" href="structccnd__handle.html#a2e868352005111e78ca9c83775aef754">00078</a>     <span class="keywordtype">unsigned</span> <a class="code" href="structccnd__handle.html#a2e868352005111e78ca9c83775aef754" title="current number of face slots">face_limit</a>;            <span class="comment">/**&lt; current number of face slots */</span>
<a name="l00079"></a><a class="code" href="structccnd__handle.html#a9a1b3a7bbb5bc437ca828b28833f6f5f">00079</a>     <span class="keyword">struct </span><a class="code" href="structface.html" title="One of our active faces.">face</a> **<a class="code" href="structccnd__handle.html#a9a1b3a7bbb5bc437ca828b28833f6f5f" title="array with face_limit elements">faces_by_faceid</a>;  <span class="comment">/**&lt; array with face_limit elements */</span>
<a name="l00080"></a><a class="code" href="structccnd__handle.html#a2539e2d5d23d17170dac571c1d099249">00080</a>     <span class="keyword">struct </span><a class="code" href="structccn__scheduled__event.html">ccn_scheduled_event</a> *<a class="code" href="structccnd__handle.html#a2539e2d5d23d17170dac571c1d099249">reaper</a>;
<a name="l00081"></a><a class="code" href="structccnd__handle.html#a6c675cb6f91fce874bc48c92a549bca2">00081</a>     <span class="keyword">struct </span><a class="code" href="structccn__scheduled__event.html">ccn_scheduled_event</a> *<a class="code" href="structccnd__handle.html#a6c675cb6f91fce874bc48c92a549bca2">age</a>;
<a name="l00082"></a><a class="code" href="structccnd__handle.html#a340b7cbcd0e5b41ae9dc7ae5ca5c5f01">00082</a>     <span class="keyword">struct </span><a class="code" href="structccn__scheduled__event.html">ccn_scheduled_event</a> *<a class="code" href="structccnd__handle.html#a340b7cbcd0e5b41ae9dc7ae5ca5c5f01">clean</a>;
<a name="l00083"></a><a class="code" href="structccnd__handle.html#a10650e9d41ecd594a15bca08343967c1">00083</a>     <span class="keyword">struct </span><a class="code" href="structccn__scheduled__event.html">ccn_scheduled_event</a> *<a class="code" href="structccnd__handle.html#a10650e9d41ecd594a15bca08343967c1">age_forwarding</a>;
<a name="l00084"></a><a class="code" href="structccnd__handle.html#a9b1361588d12a2fe1763702be5fa156e">00084</a>     <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="structccnd__handle.html#a9b1361588d12a2fe1763702be5fa156e" title="&amp;quot;main&amp;quot; port number">portstr</a>;            <span class="comment">/**&lt; &quot;main&quot; port number */</span>
<a name="l00085"></a><a class="code" href="structccnd__handle.html#a0fb665d97efcb8f5efcec16a2f8d5161">00085</a>     <span class="keywordtype">unsigned</span> <a class="code" href="structccnd__handle.html#a0fb665d97efcb8f5efcec16a2f8d5161" title="wildcard IPv4, bound to port">ipv4_faceid</a>;           <span class="comment">/**&lt; wildcard IPv4, bound to port */</span>
<a name="l00086"></a><a class="code" href="structccnd__handle.html#ac7886ec5875f97f317d7b560353ec8d1">00086</a>     <span class="keywordtype">unsigned</span> <a class="code" href="structccnd__handle.html#ac7886ec5875f97f317d7b560353ec8d1" title="wildcard IPv6, bound to port">ipv6_faceid</a>;           <span class="comment">/**&lt; wildcard IPv6, bound to port */</span>
<a name="l00087"></a><a class="code" href="structccnd__handle.html#a42ce46232eebe86e077812509047fb55">00087</a>     nfds_t <a class="code" href="structccnd__handle.html#a42ce46232eebe86e077812509047fb55" title="number of entries in fds array">nfds</a>;                    <span class="comment">/**&lt; number of entries in fds array */</span>
<a name="l00088"></a><a class="code" href="structccnd__handle.html#a5d7ed400a0f46a874d6dedb9c1fb19cc">00088</a>     <span class="keyword">struct </span>pollfd *<a class="code" href="structccnd__handle.html#a5d7ed400a0f46a874d6dedb9c1fb19cc" title="used for poll system call">fds</a>;             <span class="comment">/**&lt; used for poll system call */</span>
<a name="l00089"></a><a class="code" href="structccnd__handle.html#abfb2d55c8754d2e5bbe66a158ed93ccc">00089</a>     <span class="keyword">struct </span><a class="code" href="structccn__gettime.html">ccn_gettime</a> <a class="code" href="structccnd__handle.html#abfb2d55c8754d2e5bbe66a158ed93ccc" title="our time generator">ticktock</a>;    <span class="comment">/**&lt; our time generator */</span>
<a name="l00090"></a><a class="code" href="structccnd__handle.html#a5d19df9ef2708df77a4fab2c339098d2">00090</a>     <span class="keywordtype">long</span> <a class="code" href="structccnd__handle.html#a5d19df9ef2708df77a4fab2c339098d2" title="cached gettime seconds">sec</a>;                       <span class="comment">/**&lt; cached gettime seconds */</span>
<a name="l00091"></a><a class="code" href="structccnd__handle.html#aebc58ffa73ef7db5cff7a4f6fee5b772">00091</a>     <span class="keywordtype">unsigned</span> <a class="code" href="structccnd__handle.html#aebc58ffa73ef7db5cff7a4f6fee5b772" title="cached gettime microseconds">usec</a>;                  <span class="comment">/**&lt; cached gettime microseconds */</span>
<a name="l00092"></a><a class="code" href="structccnd__handle.html#ac638d1edc7e99be80a105b3fd5228bf7">00092</a>     <span class="keyword">struct </span>ccn_schedule *<a class="code" href="structccnd__handle.html#ac638d1edc7e99be80a105b3fd5228bf7" title="our schedule">sched</a>;     <span class="comment">/**&lt; our schedule */</span>
<a name="l00093"></a><a class="code" href="structccnd__handle.html#a402792b2d28738a6e9ae09dfa4e28d0a">00093</a>     <span class="keyword">struct </span><a class="code" href="structccn__charbuf.html">ccn_charbuf</a> *<a class="code" href="structccnd__handle.html#a402792b2d28738a6e9ae09dfa4e28d0a" title="one-slot scratch cache">scratch_charbuf</a>; <span class="comment">/**&lt; one-slot scratch cache */</span>
<a name="l00094"></a><a class="code" href="structccnd__handle.html#abd6b76899589cc90e0971a4b238ed68b">00094</a>     <span class="keyword">struct </span><a class="code" href="structccn__indexbuf.html">ccn_indexbuf</a> *<a class="code" href="structccnd__handle.html#abd6b76899589cc90e0971a4b238ed68b" title="one-slot scratch cache">scratch_indexbuf</a>; <span class="comment">/**&lt; one-slot scratch cache */</span><span class="comment"></span>
<a name="l00095"></a>00095 <span class="comment">    /** Next three fields are used for direct accession-to-content table */</span>
<a name="l00096"></a><a class="code" href="structccnd__handle.html#aaeaa498fca85ce326c5593ce3bb38f74">00096</a>     <a class="code" href="ccnd__private_8h.html#a3aefd40c7e4223bc3d13408afb1ad2ab">ccn_accession_t</a> <a class="code" href="structccnd__handle.html#aaeaa498fca85ce326c5593ce3bb38f74" title="Next three fields are used for direct accession-to-content table.">accession_base</a>;
<a name="l00097"></a><a class="code" href="structccnd__handle.html#a9269a53622c15a82b6fef9b8d6bcc1a0">00097</a>     <span class="keywordtype">unsigned</span> <a class="code" href="structccnd__handle.html#a9269a53622c15a82b6fef9b8d6bcc1a0">content_by_accession_window</a>;
<a name="l00098"></a><a class="code" href="structccnd__handle.html#a2c4fa74684cb12c7008474959524a7aa">00098</a>     <span class="keyword">struct </span><a class="code" href="structcontent__entry.html" title="The content hash table is keyed by the initial portion of the ContentObject that...">content_entry</a> **<a class="code" href="structccnd__handle.html#a2c4fa74684cb12c7008474959524a7aa">content_by_accession</a>;<span class="comment"></span>
<a name="l00099"></a>00099 <span class="comment">    /** The following holds stragglers that would otherwise bloat the above */</span>
<a name="l00100"></a><a class="code" href="structccnd__handle.html#ad5ca64eefa33fe3e6885162d30aeef5a">00100</a>     <span class="keyword">struct </span>hashtb *<a class="code" href="structccnd__handle.html#ad5ca64eefa33fe3e6885162d30aeef5a" title="The following holds stragglers that would otherwise bloat the above.">sparse_straggler_tab</a>; <span class="comment">/* keyed by accession */</span>
<a name="l00101"></a><a class="code" href="structccnd__handle.html#a92f7df3b9354caed7f71d05581155978">00101</a>     <a class="code" href="ccnd__private_8h.html#a3aefd40c7e4223bc3d13408afb1ad2ab">ccn_accession_t</a> <a class="code" href="structccnd__handle.html#a92f7df3b9354caed7f71d05581155978" title="newest used accession number">accession</a>;      <span class="comment">/**&lt; newest used accession number */</span>
<a name="l00102"></a><a class="code" href="structccnd__handle.html#a71cc26bdfe8712686e8819cf6ddcac08">00102</a>     <a class="code" href="ccnd__private_8h.html#a3aefd40c7e4223bc3d13408afb1ad2ab">ccn_accession_t</a> <a class="code" href="structccnd__handle.html#a71cc26bdfe8712686e8819cf6ddcac08" title="smallest accession of stale content">min_stale</a>;      <span class="comment">/**&lt; smallest accession of stale content */</span>
<a name="l00103"></a><a class="code" href="structccnd__handle.html#ac2287fec4a47de02d10bea36c4fe8d73">00103</a>     <a class="code" href="ccnd__private_8h.html#a3aefd40c7e4223bc3d13408afb1ad2ab">ccn_accession_t</a> <a class="code" href="structccnd__handle.html#ac2287fec4a47de02d10bea36c4fe8d73" title="largest accession of stale content">max_stale</a>;      <span class="comment">/**&lt; largest accession of stale content */</span>
<a name="l00104"></a><a class="code" href="structccnd__handle.html#a894b7a86068e2783c4e83fa7b508760d">00104</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structccnd__handle.html#a894b7a86068e2783c4e83fa7b508760d" title="may toss content if there more than this many content objects in the store">capacity</a>;         <span class="comment">/**&lt; may toss content if there more than</span>
<a name="l00105"></a>00105 <span class="comment">                                     this many content objects in the store */</span>
<a name="l00106"></a><a class="code" href="structccnd__handle.html#a698783128fa2b5a45e548fb7c2dcf6d3">00106</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structccnd__handle.html#a698783128fa2b5a45e548fb7c2dcf6d3" title="Number of stale content objects.">n_stale</a>;          <span class="comment">/**&lt; Number of stale content objects */</span>
<a name="l00107"></a><a class="code" href="structccnd__handle.html#a9d964d8268fb8c7ed16f6ce0ada1d877">00107</a>     <span class="keyword">struct </span><a class="code" href="structccn__indexbuf.html">ccn_indexbuf</a> *<a class="code" href="structccnd__handle.html#a9d964d8268fb8c7ed16f6ce0ada1d877" title="unsolicited content">unsol</a>;     <span class="comment">/**&lt; unsolicited content */</span>
<a name="l00108"></a><a class="code" href="structccnd__handle.html#a8d8acee66272fef1412f21081358e483">00108</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structccnd__handle.html#a8d8acee66272fef1412f21081358e483">oldformatcontent</a>;
<a name="l00109"></a><a class="code" href="structccnd__handle.html#afd38ea377cbacf26eb1d78eb9e3bdec7">00109</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structccnd__handle.html#afd38ea377cbacf26eb1d78eb9e3bdec7">oldformatcontentgrumble</a>;
<a name="l00110"></a><a class="code" href="structccnd__handle.html#aaf4d8cb2e03848b4d2e75aa88ddb6b21">00110</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structccnd__handle.html#aaf4d8cb2e03848b4d2e75aa88ddb6b21">oldformatinterests</a>;
<a name="l00111"></a><a class="code" href="structccnd__handle.html#a4a0e91cb4e62903950393eb1c62bed1e">00111</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structccnd__handle.html#a4a0e91cb4e62903950393eb1c62bed1e">oldformatinterestgrumble</a>;
<a name="l00112"></a><a class="code" href="structccnd__handle.html#a22228967dcbf990d374775a6afc8e0be">00112</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structccnd__handle.html#a22228967dcbf990d374775a6afc8e0be">content_dups_recvd</a>;
<a name="l00113"></a><a class="code" href="structccnd__handle.html#a9312832f7ad26c54b42df09dec5ddf57">00113</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structccnd__handle.html#a9312832f7ad26c54b42df09dec5ddf57">content_items_sent</a>;
<a name="l00114"></a><a class="code" href="structccnd__handle.html#adc5efeeeb363ebe58a2c185741f8e9cc">00114</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structccnd__handle.html#adc5efeeeb363ebe58a2c185741f8e9cc">interests_accepted</a>;
<a name="l00115"></a><a class="code" href="structccnd__handle.html#a6643a5397b3e972fc748745570f162bf">00115</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structccnd__handle.html#a6643a5397b3e972fc748745570f162bf">interests_dropped</a>;
<a name="l00116"></a><a class="code" href="structccnd__handle.html#a76ea03e6ca575c62b7d97c459c5cfc9e">00116</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structccnd__handle.html#a76ea03e6ca575c62b7d97c459c5cfc9e">interests_sent</a>;
<a name="l00117"></a><a class="code" href="structccnd__handle.html#a2e8fb811d396bef55784680b233ac424">00117</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structccnd__handle.html#a2e8fb811d396bef55784680b233ac424">interests_stuffed</a>;
<a name="l00118"></a><a class="code" href="structccnd__handle.html#a08e836efa870eb42c0fdba1e08886862">00118</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <a class="code" href="structccnd__handle.html#a08e836efa870eb42c0fdba1e08886862" title="for PRNG">seed</a>[3];         <span class="comment">/**&lt; for PRNG */</span>
<a name="l00119"></a><a class="code" href="structccnd__handle.html#aef59a13ab1dba55e36f22ad59624218f">00119</a>     <span class="keywordtype">int</span> <a class="code" href="structccnd__handle.html#aef59a13ab1dba55e36f22ad59624218f" title="true while should be running">running</a>;                    <span class="comment">/**&lt; true while should be running */</span>
<a name="l00120"></a><a class="code" href="structccnd__handle.html#af1f782a44b7c5da14c5608974cc7677c">00120</a>     <span class="keywordtype">int</span> <a class="code" href="structccnd__handle.html#af1f782a44b7c5da14c5608974cc7677c" title="For controlling debug output.">debug</a>;                      <span class="comment">/**&lt; For controlling debug output */</span>
<a name="l00121"></a><a class="code" href="structccnd__handle.html#a3310da35be41a1820ea627a014662b04">00121</a>     <a class="code" href="ccnd__private_8h.html#a6b42f2191353fac0f6001019a047f2c1">ccnd_logger</a> <a class="code" href="structccnd__handle.html#a3310da35be41a1820ea627a014662b04" title="For debug output.">logger</a>;             <span class="comment">/**&lt; For debug output */</span>
<a name="l00122"></a><a class="code" href="structccnd__handle.html#a34e76b61881c996b9e72b7434b051420">00122</a>     <span class="keywordtype">void</span> *<a class="code" href="structccnd__handle.html#a34e76b61881c996b9e72b7434b051420" title="Passed to logger.">loggerdata</a>;               <span class="comment">/**&lt; Passed to logger */</span>
<a name="l00123"></a><a class="code" href="structccnd__handle.html#af6f7fbe2f96b82762715e070bacd1ec0">00123</a>     <span class="keywordtype">int</span> <a class="code" href="structccnd__handle.html#af6f7fbe2f96b82762715e070bacd1ec0" title="see ccn_msg()">logbreak</a>;                   <span class="comment">/**&lt; see ccn_msg() */</span>
<a name="l00124"></a><a class="code" href="structccnd__handle.html#a4db7f367dcf96faf3f55b33b7cb3336f">00124</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structccnd__handle.html#a4db7f367dcf96faf3f55b33b7cb3336f" title="see ccn_msg()">logtime</a>;          <span class="comment">/**&lt; see ccn_msg() */</span>
<a name="l00125"></a><a class="code" href="structccnd__handle.html#a428bdab0c67e85826f2f6587041c2429">00125</a>     <span class="keywordtype">int</span> <a class="code" href="structccnd__handle.html#a428bdab0c67e85826f2f6587041c2429" title="see ccn_msg()">logpid</a>;                     <span class="comment">/**&lt; see ccn_msg() */</span>
<a name="l00126"></a><a class="code" href="structccnd__handle.html#a70d0289bae0492e34decf390a1e33f47">00126</a>     <span class="keywordtype">int</span> <a class="code" href="structccnd__handle.html#a70d0289bae0492e34decf390a1e33f47" title="Target size for stuffing interests.">mtu</a>;                        <span class="comment">/**&lt; Target size for stuffing interests */</span>
<a name="l00127"></a><a class="code" href="structccnd__handle.html#a91fce692e28df0af77a60673e4a01148">00127</a>     <span class="keywordtype">int</span> <a class="code" href="structccnd__handle.html#a91fce692e28df0af77a60673e4a01148" title="Internal control for auto-reg.">flood</a>;                      <span class="comment">/**&lt; Internal control for auto-reg */</span>
<a name="l00128"></a><a class="code" href="structccnd__handle.html#aa9b279ee7b7e9a4d1467deafcbcf9b15">00128</a>     <span class="keyword">struct </span><a class="code" href="structccn__charbuf.html">ccn_charbuf</a> *<a class="code" href="structccnd__handle.html#aa9b279ee7b7e9a4d1467deafcbcf9b15" title="URIs to auto-register.">autoreg</a>;    <span class="comment">/**&lt; URIs to auto-register */</span>
<a name="l00129"></a><a class="code" href="structccnd__handle.html#ae2af0a48397b8d018c2a4673b2373130">00129</a>     <span class="keywordtype">int</span> <a class="code" href="structccnd__handle.html#ae2af0a48397b8d018c2a4673b2373130" title="Simulate freshness=0 on all content.">force_zero_freshness</a>;       <span class="comment">/**&lt; Simulate freshness=0 on all content */</span>
<a name="l00130"></a><a class="code" href="structccnd__handle.html#a80709386126dd21a3539617415d549b0">00130</a>     <span class="keywordtype">unsigned</span> <a class="code" href="structccnd__handle.html#a80709386126dd21a3539617415d549b0" title="for self_reg internal client">interest_faceid</a>;       <span class="comment">/**&lt; for self_reg internal client */</span>
<a name="l00131"></a><a class="code" href="structccnd__handle.html#afc653cfda1ffc9f8646e250aca060e0f">00131</a>     <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="structccnd__handle.html#afc653cfda1ffc9f8646e250aca060e0f" title="our name, for locating helpers">progname</a>;           <span class="comment">/**&lt; our name, for locating helpers */</span>
<a name="l00132"></a><a class="code" href="structccnd__handle.html#a01ae729045dce23ebebf65bb06479b00">00132</a>     <span class="keyword">struct </span>ccn *<a class="code" href="structccnd__handle.html#a01ae729045dce23ebebf65bb06479b00" title="internal client">internal_client</a>;    <span class="comment">/**&lt; internal client */</span>
<a name="l00133"></a><a class="code" href="structccnd__handle.html#a6721551353380a3ffc764072a9d0370c">00133</a>     <span class="keyword">struct </span><a class="code" href="structface.html" title="One of our active faces.">face</a> *<a class="code" href="structccnd__handle.html#a6721551353380a3ffc764072a9d0370c" title="special face for internal client">face0</a>;             <span class="comment">/**&lt; special face for internal client */</span>
<a name="l00134"></a><a class="code" href="structccnd__handle.html#a2d44d3dadcbc86b822fb9bdcc20826ca">00134</a>     <span class="keyword">struct </span><a class="code" href="structccn__charbuf.html">ccn_charbuf</a> *<a class="code" href="structccnd__handle.html#a2d44d3dadcbc86b822fb9bdcc20826ca" title="for local service discovery">service_ccnb</a>; <span class="comment">/**&lt; for local service discovery */</span>
<a name="l00135"></a><a class="code" href="structccnd__handle.html#ad4ea25e65cc040d7db4bfabc6d437efa">00135</a>     <span class="keyword">struct </span>ccn_seqwriter *<a class="code" href="structccnd__handle.html#ad4ea25e65cc040d7db4bfabc6d437efa" title="for notices of status changes">notice</a>;   <span class="comment">/**&lt; for notices of status changes */</span>
<a name="l00136"></a><a class="code" href="structccnd__handle.html#a4896feace358bae444c064f001e51e94">00136</a>     <span class="keyword">struct </span><a class="code" href="structccn__indexbuf.html">ccn_indexbuf</a> *<a class="code" href="structccnd__handle.html#a4896feace358bae444c064f001e51e94" title="faceids w/ recent status changes">chface</a>;    <span class="comment">/**&lt; faceids w/ recent status changes */</span>
<a name="l00137"></a><a class="code" href="structccnd__handle.html#a858f9215865200c123eca8c3a1828b6b">00137</a>     <span class="keyword">struct </span><a class="code" href="structccn__scheduled__event.html">ccn_scheduled_event</a> *<a class="code" href="structccnd__handle.html#a858f9215865200c123eca8c3a1828b6b">internal_client_refresh</a>;
<a name="l00138"></a><a class="code" href="structccnd__handle.html#a4af1b200fef141e2a3c90fae6f0e49ba">00138</a>     <span class="keyword">struct </span><a class="code" href="structccn__scheduled__event.html">ccn_scheduled_event</a> *<a class="code" href="structccnd__handle.html#a4af1b200fef141e2a3c90fae6f0e49ba">notice_push</a>;
<a name="l00139"></a><a class="code" href="structccnd__handle.html#a493919ab3fc0933a677f8bdad94f8c9a">00139</a>     <span class="keywordtype">unsigned</span> <a class="code" href="structccnd__handle.html#a493919ab3fc0933a677f8bdad94f8c9a" title="tunable, see choose_face_delay()">data_pause_microsec</a>;   <span class="comment">/**&lt; tunable, see choose_face_delay() */</span>
<a name="l00140"></a>00140     void (*<a class="code" href="structccnd__handle.html#a9efb4f1c9a623e066978d064bddbfe80" title="pluggable nonce generation">appnonce</a>)(<span class="keyword">struct </span><a class="code" href="structccnd__handle.html" title="We pass this handle almost everywhere within ccnd.">ccnd_handle</a> *, <span class="keyword">struct </span><a class="code" href="structface.html" title="One of our active faces.">face</a> *, <span class="keyword">struct </span><a class="code" href="structccn__charbuf.html">ccn_charbuf</a> *);<span class="comment"></span>
<a name="l00141"></a>00141 <span class="comment">                                    /**&lt; pluggable nonce generation */</span>
<a name="l00142"></a>00142 };
<a name="l00143"></a>00143 <span class="comment"></span>
<a name="l00144"></a>00144 <span class="comment">/**</span>
<a name="l00145"></a>00145 <span class="comment"> * Each face is referenced by a number, the faceid.  The low-order</span>
<a name="l00146"></a>00146 <span class="comment"> * bits (under the MAXFACES) constitute a slot number that is</span>
<a name="l00147"></a>00147 <span class="comment"> * unique (for this ccnd) among the faces that are alive at a given time.</span>
<a name="l00148"></a>00148 <span class="comment"> * The rest of the bits form a generation number that make the</span>
<a name="l00149"></a>00149 <span class="comment"> * entire faceid unique over time, even for faces that are defunct.</span>
<a name="l00150"></a>00150 <span class="comment"> */</span>
<a name="l00151"></a><a class="code" href="ccnd__private_8h.html#a962d05869adeb7958b6e80827938130d">00151</a> <span class="preprocessor">#define FACESLOTBITS 18</span>
<a name="l00152"></a><a class="code" href="ccnd__private_8h.html#ab1e25d0546423f0e4bd6010272c0ae40">00152</a> <span class="preprocessor"></span><span class="preprocessor">#define MAXFACES ((1U &lt;&lt; FACESLOTBITS) - 1)</span>
<a name="l00153"></a>00153 <span class="preprocessor"></span>
<a name="l00154"></a><a class="code" href="structcontent__queue.html">00154</a> <span class="keyword">struct </span><a class="code" href="structcontent__queue.html">content_queue</a> {
<a name="l00155"></a><a class="code" href="structcontent__queue.html#af195a73f85a7250494143bffb946c35b">00155</a>     <span class="keywordtype">unsigned</span> <a class="code" href="structcontent__queue.html#af195a73f85a7250494143bffb946c35b" title="nsec per KByte, limits burst rate">burst_nsec</a>;             <span class="comment">/**&lt; nsec per KByte, limits burst rate */</span>
<a name="l00156"></a><a class="code" href="structcontent__queue.html#a86e00a92d092b2441836fa5e33120fec">00156</a>     <span class="keywordtype">unsigned</span> <a class="code" href="structcontent__queue.html#a86e00a92d092b2441836fa5e33120fec" title="minimum delay for this queue">min_usec</a>;               <span class="comment">/**&lt; minimum delay for this queue */</span>
<a name="l00157"></a><a class="code" href="structcontent__queue.html#accfdc3592bdd9d3cb7b316e75ff30b5b">00157</a>     <span class="keywordtype">unsigned</span> <a class="code" href="structcontent__queue.html#accfdc3592bdd9d3cb7b316e75ff30b5b" title="randomization range">rand_usec</a>;              <span class="comment">/**&lt; randomization range */</span>
<a name="l00158"></a><a class="code" href="structcontent__queue.html#afd8c9d994af7effd7fd9aa495416d2cd">00158</a>     <span class="keywordtype">unsigned</span> <a class="code" href="structcontent__queue.html#afd8c9d994af7effd7fd9aa495416d2cd" title="# that have waited enough">ready</a>;                  <span class="comment">/**&lt; # that have waited enough */</span>
<a name="l00159"></a><a class="code" href="structcontent__queue.html#aca5da549f5249053d6ba1d9161d02537">00159</a>     <span class="keywordtype">unsigned</span> <a class="code" href="structcontent__queue.html#aca5da549f5249053d6ba1d9161d02537" title="# sent since last randomized delay">nrun</a>;                   <span class="comment">/**&lt; # sent since last randomized delay */</span>
<a name="l00160"></a><a class="code" href="structcontent__queue.html#afefb282cf62e02c61cc9d74a8b86655d">00160</a>     <span class="keyword">struct </span><a class="code" href="structccn__indexbuf.html">ccn_indexbuf</a> *<a class="code" href="structcontent__queue.html#afefb282cf62e02c61cc9d74a8b86655d" title="accession numbers of pending content">send_queue</a>; <span class="comment">/**&lt; accession numbers of pending content */</span>
<a name="l00161"></a><a class="code" href="structcontent__queue.html#ae5ce7c798474a729bdd8e93403692f3f">00161</a>     <span class="keyword">struct </span><a class="code" href="structccn__scheduled__event.html">ccn_scheduled_event</a> *<a class="code" href="structcontent__queue.html#ae5ce7c798474a729bdd8e93403692f3f">sender</a>;
<a name="l00162"></a>00162 };
<a name="l00163"></a>00163 
<a name="l00164"></a><a class="code" href="ccnd__private_8h.html#a4e3d681b05662964910a195835a7fb0b">00164</a> <span class="keyword">enum</span> <a class="code" href="ccnd__private_8h.html#a4e3d681b05662964910a195835a7fb0b">cq_delay_class</a> {
<a name="l00165"></a><a class="code" href="ccnd__private_8h.html#a4e3d681b05662964910a195835a7fb0ba00e846d29278aa37f8cd2f1771b02dbf">00165</a>     <a class="code" href="ccnd__private_8h.html#a4e3d681b05662964910a195835a7fb0ba00e846d29278aa37f8cd2f1771b02dbf">CCN_CQ_ASAP</a>,
<a name="l00166"></a><a class="code" href="ccnd__private_8h.html#a4e3d681b05662964910a195835a7fb0ba1ba7f9b85dd0cb05188982b290ed287a">00166</a>     <a class="code" href="ccnd__private_8h.html#a4e3d681b05662964910a195835a7fb0ba1ba7f9b85dd0cb05188982b290ed287a">CCN_CQ_NORMAL</a>,
<a name="l00167"></a><a class="code" href="ccnd__private_8h.html#a4e3d681b05662964910a195835a7fb0ba74d5821350bdb2f3fddef7298c30b3cf">00167</a>     <a class="code" href="ccnd__private_8h.html#a4e3d681b05662964910a195835a7fb0ba74d5821350bdb2f3fddef7298c30b3cf">CCN_CQ_SLOW</a>,
<a name="l00168"></a><a class="code" href="ccnd__private_8h.html#a4e3d681b05662964910a195835a7fb0ba7ffbfb12e45549cb96b8293639c45fcd">00168</a>     <a class="code" href="ccnd__private_8h.html#a4e3d681b05662964910a195835a7fb0ba7ffbfb12e45549cb96b8293639c45fcd">CCN_CQ_N</a>
<a name="l00169"></a>00169 };
<a name="l00170"></a>00170 <span class="comment"></span>
<a name="l00171"></a>00171 <span class="comment">/**</span>
<a name="l00172"></a>00172 <span class="comment"> * One of our active faces</span>
<a name="l00173"></a>00173 <span class="comment"> */</span>
<a name="l00174"></a><a class="code" href="structface.html">00174</a> <span class="keyword">struct </span><a class="code" href="structface.html" title="One of our active faces.">face</a> {
<a name="l00175"></a><a class="code" href="structface.html#a5346b02d6eda61eeec261be3a7790233">00175</a>     <span class="keywordtype">int</span> <a class="code" href="structface.html#a5346b02d6eda61eeec261be3a7790233" title="socket for receiving">recv_fd</a>;                <span class="comment">/**&lt; socket for receiving */</span>
<a name="l00176"></a><a class="code" href="structface.html#a87d489e9641c12076a418c78a30ccbd6">00176</a>     <span class="keywordtype">unsigned</span> <a class="code" href="structface.html#a87d489e9641c12076a418c78a30ccbd6" title="faceid for sending (maybe == faceid)">sendface</a>;          <span class="comment">/**&lt; faceid for sending (maybe == faceid) */</span>
<a name="l00177"></a><a class="code" href="structface.html#a19a6afef7e4e17e1d856082c3d932abe">00177</a>     <span class="keywordtype">int</span> <a class="code" href="structface.html#a19a6afef7e4e17e1d856082c3d932abe" title="CCN_FACE_* face flags.">flags</a>;                  <span class="comment">/**&lt; CCN_FACE_* face flags */</span>
<a name="l00178"></a><a class="code" href="structface.html#a17ad00f3e45eaa72fe1adeb7f538b0dc">00178</a>     <span class="keywordtype">int</span> <a class="code" href="structface.html#a17ad00f3e45eaa72fe1adeb7f538b0dc" title="sends since last successful recv">surplus</a>;                <span class="comment">/**&lt; sends since last successful recv */</span>
<a name="l00179"></a><a class="code" href="structface.html#ad41672dc1c4db377303433b210f602f5">00179</a>     <span class="keywordtype">unsigned</span> <a class="code" href="structface.html#ad41672dc1c4db377303433b210f602f5" title="internal face id">faceid</a>;            <span class="comment">/**&lt; internal face id */</span>
<a name="l00180"></a><a class="code" href="structface.html#aa8958b35f6e414a6f9c3bbc59e8ae3af">00180</a>     <span class="keywordtype">unsigned</span> <a class="code" href="structface.html#aa8958b35f6e414a6f9c3bbc59e8ae3af" title="for activity level monitoring">recvcount</a>;         <span class="comment">/**&lt; for activity level monitoring */</span>
<a name="l00181"></a><a class="code" href="structface.html#aeb0fdf98187581031be5fc66b2d9f045">00181</a>     <span class="keyword">struct </span><a class="code" href="structcontent__queue.html">content_queue</a> *<a class="code" href="structface.html#aeb0fdf98187581031be5fc66b2d9f045" title="outgoing content, per delay class">q</a>[<a class="code" href="ccnd__private_8h.html#a4e3d681b05662964910a195835a7fb0ba7ffbfb12e45549cb96b8293639c45fcd">CCN_CQ_N</a>]; <span class="comment">/**&lt; outgoing content, per delay class */</span>
<a name="l00182"></a><a class="code" href="structface.html#a48eef97a90ee00bb2fb638fc0d0de45c">00182</a>     <span class="keyword">struct </span><a class="code" href="structccn__charbuf.html">ccn_charbuf</a> *<a class="code" href="structface.html#a48eef97a90ee00bb2fb638fc0d0de45c">inbuf</a>;
<a name="l00183"></a><a class="code" href="structface.html#ac0e5e03363ae8a3cdbcb57b78e724bab">00183</a>     <span class="keyword">struct </span><a class="code" href="structccn__skeleton__decoder.html">ccn_skeleton_decoder</a> <a class="code" href="structface.html#ac0e5e03363ae8a3cdbcb57b78e724bab">decoder</a>;
<a name="l00184"></a><a class="code" href="structface.html#a774ca85adb0937ae0f8a10b8f385c01d">00184</a>     <span class="keywordtype">size_t</span> <a class="code" href="structface.html#a774ca85adb0937ae0f8a10b8f385c01d">outbufindex</a>;
<a name="l00185"></a><a class="code" href="structface.html#ad9591ac020c4fe1613d4c0f2ca5dab02">00185</a>     <span class="keyword">struct </span><a class="code" href="structccn__charbuf.html">ccn_charbuf</a> *<a class="code" href="structface.html#ad9591ac020c4fe1613d4c0f2ca5dab02">outbuf</a>;
<a name="l00186"></a><a class="code" href="structface.html#aaccba8b4dd870f02d6b415a651d2a2c3">00186</a>     <span class="keyword">const</span> <span class="keyword">struct </span>sockaddr *<a class="code" href="structface.html#aaccba8b4dd870f02d6b415a651d2a2c3">addr</a>;
<a name="l00187"></a><a class="code" href="structface.html#a9e3dd16a8bfbc06f92751ccc2ea6b7d2">00187</a>     socklen_t <a class="code" href="structface.html#a9e3dd16a8bfbc06f92751ccc2ea6b7d2">addrlen</a>;
<a name="l00188"></a><a class="code" href="structface.html#a181a56ee2af3605aad074870ef48880c">00188</a>     <span class="keywordtype">int</span> <a class="code" href="structface.html#a181a56ee2af3605aad074870ef48880c">pending_interests</a>;
<a name="l00189"></a>00189 };
<a name="l00190"></a>00190 <span class="comment"></span>
<a name="l00191"></a>00191 <span class="comment">/** face flags */</span>
<a name="l00192"></a><a class="code" href="ccnd__private_8h.html#a0c04bda1b038dcc235474aa8fa37de63">00192</a> <span class="preprocessor">#define CCN_FACE_LINK   (1 &lt;&lt; 0) </span><span class="comment">/**&lt; Elements wrapped by CCNProtocolDataUnit */</span>
<a name="l00193"></a><a class="code" href="ccnd__private_8h.html#af69ab40777413f7c18dd42c30e8c822a">00193</a> <span class="preprocessor">#define CCN_FACE_DGRAM  (1 &lt;&lt; 1) </span><span class="comment">/**&lt; Datagram interface, respect packets */</span>
<a name="l00194"></a><a class="code" href="ccnd__private_8h.html#af4a2ccfd3378c5fc5728189d2035cc04">00194</a> <span class="preprocessor">#define CCN_FACE_GG     (1 &lt;&lt; 2) </span><span class="comment">/**&lt; Considered friendly */</span>
<a name="l00195"></a><a class="code" href="ccnd__private_8h.html#a764c5249e8d78196e1bcf5865369e793">00195</a> <span class="preprocessor">#define CCN_FACE_LOCAL  (1 &lt;&lt; 3) </span><span class="comment">/**&lt; PF_UNIX socket */</span>
<a name="l00196"></a><a class="code" href="ccnd__private_8h.html#aff5ec7be8423966b46f091d689398c61">00196</a> <span class="preprocessor">#define CCN_FACE_INET   (1 &lt;&lt; 4) </span><span class="comment">/**&lt; IPv4 */</span>
<a name="l00197"></a><a class="code" href="ccnd__private_8h.html#a1014cdbc05d09bc09af24d2a61938a1c">00197</a> <span class="preprocessor">#define CCN_FACE_MCAST  (1 &lt;&lt; 5) </span><span class="comment">/**&lt; a party line (e.g. multicast) */</span>
<a name="l00198"></a><a class="code" href="ccnd__private_8h.html#a59d255f7198e1f8a01571826694a947a">00198</a> <span class="preprocessor">#define CCN_FACE_INET6  (1 &lt;&lt; 6) </span><span class="comment">/**&lt; IPv6 */</span>
<a name="l00199"></a><a class="code" href="ccnd__private_8h.html#ada98f70668cc83a93074c5b4e7fab356">00199</a> <span class="preprocessor">#define CCN_FACE_DC     (1 &lt;&lt; 7) </span><span class="comment">/**&lt; Direct control face */</span>
<a name="l00200"></a><a class="code" href="ccnd__private_8h.html#ac7ede12a840544f26ae1666807d24de8">00200</a> <span class="preprocessor">#define CCN_FACE_NOSEND (1 &lt;&lt; 8) </span><span class="comment">/**&lt; Don&apos;t send anymore */</span>
<a name="l00201"></a><a class="code" href="ccnd__private_8h.html#a6ff965f1b46a131a7eee2b6e3c3bc5c2">00201</a> <span class="preprocessor">#define CCN_FACE_UNDECIDED (1 &lt;&lt; 9) </span><span class="comment">/**&lt; Might not be talking ccn */</span>
<a name="l00202"></a><a class="code" href="ccnd__private_8h.html#a459d9b6dc2c5df1b0054f4131648d01c">00202</a> <span class="preprocessor">#define CCN_FACE_PERMANENT (1 &lt;&lt; 10) </span><span class="comment">/**&lt; No timeout for inactivity */</span>
<a name="l00203"></a><a class="code" href="ccnd__private_8h.html#a0ea07b6d78ff2694029cd7a34d7d9d3d">00203</a> <span class="preprocessor">#define CCN_FACE_CONNECTING (1 &lt;&lt; 11) </span><span class="comment">/**&lt; Connect in progress */</span>
<a name="l00204"></a><a class="code" href="ccnd__private_8h.html#acd4a90de43fd25ab74de211ba237cb94">00204</a> <span class="preprocessor">#define CCN_FACE_LOOPBACK (1 &lt;&lt; 12) </span><span class="comment">/**&lt; v4 or v6 loopback address */</span>
<a name="l00205"></a><a class="code" href="ccnd__private_8h.html#a15cd6800f742d4abc44c3bc1f0695f83">00205</a> <span class="preprocessor">#define CCN_FACE_CLOSING (1 &lt;&lt; 13) </span><span class="comment">/**&lt; close stream when output is done */</span>
<a name="l00206"></a><a class="code" href="ccnd__private_8h.html#af1baba9e064f70cda67a5a7f80afff9b">00206</a> <span class="preprocessor">#define CCN_FACE_PASSIVE (1 &lt;&lt; 14) </span><span class="comment">/**&lt; a listener or a bound dgram socket */</span>
<a name="l00207"></a><a class="code" href="ccnd__private_8h.html#aecebfd2c4f2d88fbd9f654f767a1787e">00207</a> <span class="preprocessor">#define CCN_FACE_NORECV (1 &lt;&lt; 15) </span><span class="comment">/**&lt; use for sending only */</span>
<a name="l00208"></a><a class="code" href="ccnd__private_8h.html#acec7256189c30d5e62a5f8bfa3923de1">00208</a> <span class="preprocessor">#define CCN_FACE_REGOK (1 &lt;&lt; 16) </span><span class="comment">/**&lt; Allowed to do prefix registration */</span>
<a name="l00209"></a><a class="code" href="ccnd__private_8h.html#aa065f01949d39e9cdf018f197151995e">00209</a> <span class="preprocessor">#define CCN_NOFACEID    (~0U)    </span><span class="comment">/** denotes no face */</span>
<a name="l00210"></a>00210 <span class="comment"></span>
<a name="l00211"></a>00211 <span class="comment">/**</span>
<a name="l00212"></a>00212 <span class="comment"> *  The content hash table is keyed by the initial portion of the ContentObject</span>
<a name="l00213"></a>00213 <span class="comment"> *  that contains all the parts of the complete name.  The extdata of the hash</span>
<a name="l00214"></a>00214 <span class="comment"> *  table holds the rest of the object, so that the whole ContentObject is</span>
<a name="l00215"></a>00215 <span class="comment"> *  stored contiguously.  The internal form differs from the on-wire form in</span>
<a name="l00216"></a>00216 <span class="comment"> *  that the final content-digest name component is represented explicitly,</span>
<a name="l00217"></a>00217 <span class="comment"> *  which simplifies the matching logic.</span>
<a name="l00218"></a>00218 <span class="comment"> *  The original ContentObject may be reconstructed simply by excising this</span>
<a name="l00219"></a>00219 <span class="comment"> *  last name component, which is easily located via the comps array.</span>
<a name="l00220"></a>00220 <span class="comment"> */</span>
<a name="l00221"></a><a class="code" href="structcontent__entry.html">00221</a> <span class="keyword">struct </span><a class="code" href="structcontent__entry.html" title="The content hash table is keyed by the initial portion of the ContentObject that...">content_entry</a> {
<a name="l00222"></a><a class="code" href="structcontent__entry.html#a997383a8492f0e5967693b684c3ede05">00222</a>     <a class="code" href="ccnd__private_8h.html#a3aefd40c7e4223bc3d13408afb1ad2ab">ccn_accession_t</a> <a class="code" href="structcontent__entry.html#a997383a8492f0e5967693b684c3ede05" title="assigned in arrival order">accession</a>;  <span class="comment">/**&lt; assigned in arrival order */</span>
<a name="l00223"></a><a class="code" href="structcontent__entry.html#abd3ef731432a7f5910266048ab66c1eb">00223</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> *<a class="code" href="structcontent__entry.html#abd3ef731432a7f5910266048ab66c1eb" title="Name Component byte boundary offsets.">comps</a>;      <span class="comment">/**&lt; Name Component byte boundary offsets */</span>
<a name="l00224"></a><a class="code" href="structcontent__entry.html#a773fd41b5ae6d3903d23fe8a07e037a1">00224</a>     <span class="keywordtype">int</span> <a class="code" href="structcontent__entry.html#a773fd41b5ae6d3903d23fe8a07e037a1" title="Number of name components plus one.">ncomps</a>;                 <span class="comment">/**&lt; Number of name components plus one */</span>
<a name="l00225"></a><a class="code" href="structcontent__entry.html#a50fecc96c3eee78730436acb33635501">00225</a>     <span class="keywordtype">int</span> <a class="code" href="structcontent__entry.html#a50fecc96c3eee78730436acb33635501" title="see below">flags</a>;                  <span class="comment">/**&lt; see below */</span>
<a name="l00226"></a><a class="code" href="structcontent__entry.html#a219b805335cb153c1a0d69b7b1558070">00226</a>     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code" href="structcontent__entry.html#a219b805335cb153c1a0d69b7b1558070" title="ccnb-encoded ContentObject">key</a>;   <span class="comment">/**&lt; ccnb-encoded ContentObject */</span>
<a name="l00227"></a><a class="code" href="structcontent__entry.html#af7b2ee31dd85f65625fd4131253eba44">00227</a>     <span class="keywordtype">int</span> <a class="code" href="structcontent__entry.html#af7b2ee31dd85f65625fd4131253eba44" title="Size of fragment prior to Content.">key_size</a>;               <span class="comment">/**&lt; Size of fragment prior to Content */</span>
<a name="l00228"></a><a class="code" href="structcontent__entry.html#a62fdec201c071a631dd81ec623c8e20f">00228</a>     <span class="keywordtype">int</span> <a class="code" href="structcontent__entry.html#a62fdec201c071a631dd81ec623c8e20f" title="Size of ContentObject.">size</a>;                   <span class="comment">/**&lt; Size of ContentObject */</span>
<a name="l00229"></a><a class="code" href="structcontent__entry.html#ad6c08ea0d4be9aae8a639990ecbe6567">00229</a>     <span class="keyword">struct </span><a class="code" href="structccn__indexbuf.html">ccn_indexbuf</a> *<a class="code" href="structcontent__entry.html#ad6c08ea0d4be9aae8a639990ecbe6567" title="skiplist for name-ordered ops">skiplinks</a>; <span class="comment">/**&lt; skiplist for name-ordered ops */</span>
<a name="l00230"></a>00230 };
<a name="l00231"></a>00231 <span class="comment"></span>
<a name="l00232"></a>00232 <span class="comment">/**</span>
<a name="l00233"></a>00233 <span class="comment"> * content_entry flags</span>
<a name="l00234"></a>00234 <span class="comment"> */</span>
<a name="l00235"></a><a class="code" href="ccnd__private_8h.html#a571f95194d5c4af4467f962886f0415d">00235</a> <span class="preprocessor">#define CCN_CONTENT_ENTRY_SLOWSEND  1</span>
<a name="l00236"></a><a class="code" href="ccnd__private_8h.html#a00a6291f95c31c46d5c2331f8d44e101">00236</a> <span class="preprocessor"></span><span class="preprocessor">#define CCN_CONTENT_ENTRY_STALE     2</span>
<a name="l00237"></a><a class="code" href="ccnd__private_8h.html#a4f5848952cb93cda71e852a19378a386">00237</a> <span class="preprocessor"></span><span class="preprocessor">#define CCN_CONTENT_ENTRY_PRECIOUS  4</span>
<a name="l00238"></a>00238 <span class="preprocessor"></span><span class="comment"></span>
<a name="l00239"></a>00239 <span class="comment">/**</span>
<a name="l00240"></a>00240 <span class="comment"> * The sparse_straggler hash table, keyed by accession, holds scattered</span>
<a name="l00241"></a>00241 <span class="comment"> * entries that would otherwise bloat the direct content_by_accession table.</span>
<a name="l00242"></a>00242 <span class="comment"> */</span>
<a name="l00243"></a><a class="code" href="structsparse__straggler__entry.html">00243</a> <span class="keyword">struct </span><a class="code" href="structsparse__straggler__entry.html" title="The sparse_straggler hash table, keyed by accession, holds scattered entries that...">sparse_straggler_entry</a> {
<a name="l00244"></a><a class="code" href="structsparse__straggler__entry.html#a492586c96cc79543e77a8627b672eb10">00244</a>     <span class="keyword">struct </span><a class="code" href="structcontent__entry.html" title="The content hash table is keyed by the initial portion of the ContentObject that...">content_entry</a> *<a class="code" href="structsparse__straggler__entry.html#a492586c96cc79543e77a8627b672eb10">content</a>;
<a name="l00245"></a>00245 };
<a name="l00246"></a>00246 <span class="comment"></span>
<a name="l00247"></a>00247 <span class="comment">/**</span>
<a name="l00248"></a>00248 <span class="comment"> * The propagating interest hash table is keyed by Nonce.</span>
<a name="l00249"></a>00249 <span class="comment"> *</span>
<a name="l00250"></a>00250 <span class="comment"> * While the interest is pending, the pe is also kept in a doubly-linked</span>
<a name="l00251"></a>00251 <span class="comment"> * list off of a nameprefix_entry.</span>
<a name="l00252"></a>00252 <span class="comment"> *</span>
<a name="l00253"></a>00253 <span class="comment"> * When the interest is consumed, the pe is removed from the doubly-linked</span>
<a name="l00254"></a>00254 <span class="comment"> * list and is cleaned up by freeing unnecessary bits (including the interest</span>
<a name="l00255"></a>00255 <span class="comment"> * message itself).  It remains in the hash table for a time, in order to catch</span>
<a name="l00256"></a>00256 <span class="comment"> * duplicate nonces.</span>
<a name="l00257"></a>00257 <span class="comment"> */</span>
<a name="l00258"></a><a class="code" href="structpropagating__entry.html">00258</a> <span class="keyword">struct </span><a class="code" href="structpropagating__entry.html" title="The propagating interest hash table is keyed by Nonce.">propagating_entry</a> {
<a name="l00259"></a><a class="code" href="structpropagating__entry.html#af2f1f7528e9fb8b13954021a70af90a9">00259</a>     <span class="keyword">struct </span><a class="code" href="structpropagating__entry.html" title="The propagating interest hash table is keyed by Nonce.">propagating_entry</a> *<a class="code" href="structpropagating__entry.html#af2f1f7528e9fb8b13954021a70af90a9">next</a>;
<a name="l00260"></a><a class="code" href="structpropagating__entry.html#a62dab621f69bcb6f6f4a8735d2bcc83f">00260</a>     <span class="keyword">struct </span><a class="code" href="structpropagating__entry.html" title="The propagating interest hash table is keyed by Nonce.">propagating_entry</a> *<a class="code" href="structpropagating__entry.html#a62dab621f69bcb6f6f4a8735d2bcc83f">prev</a>;
<a name="l00261"></a><a class="code" href="structpropagating__entry.html#ac4b5769fcadbf8a4588518ed393159e3">00261</a>     <span class="keywordtype">unsigned</span> <a class="code" href="structpropagating__entry.html#ac4b5769fcadbf8a4588518ed393159e3" title="CCN_PR_xxx.">flags</a>;             <span class="comment">/**&lt; CCN_PR_xxx */</span>
<a name="l00262"></a><a class="code" href="structpropagating__entry.html#a2b27c2db25c3ef68a3ffca1537e76e26">00262</a>     <span class="keywordtype">unsigned</span> <a class="code" href="structpropagating__entry.html#a2b27c2db25c3ef68a3ffca1537e76e26" title="origin of the interest, dest for matches">faceid</a>;            <span class="comment">/**&lt; origin of the interest, dest for matches */</span>
<a name="l00263"></a><a class="code" href="structpropagating__entry.html#ae68891ca75d260b75d5787e1fc283677">00263</a>     <span class="keywordtype">int</span> <a class="code" href="structpropagating__entry.html#ae68891ca75d260b75d5787e1fc283677" title="usec until timeout">usec</a>;                   <span class="comment">/**&lt; usec until timeout */</span>
<a name="l00264"></a><a class="code" href="structpropagating__entry.html#a9c1a95754f0dc9ca1617d017ef132414">00264</a>     <span class="keywordtype">int</span> <a class="code" href="structpropagating__entry.html#a9c1a95754f0dc9ca1617d017ef132414" title="leading faceids of outbound processed">sent</a>;                   <span class="comment">/**&lt; leading faceids of outbound processed */</span>
<a name="l00265"></a><a class="code" href="structpropagating__entry.html#a2c9ba7fedcc82c17fde4ed115368c2c3">00265</a>     <span class="keyword">struct </span><a class="code" href="structccn__indexbuf.html">ccn_indexbuf</a> *<a class="code" href="structpropagating__entry.html#a2c9ba7fedcc82c17fde4ed115368c2c3" title="in order of use">outbound</a>; <span class="comment">/**&lt; in order of use */</span>
<a name="l00266"></a><a class="code" href="structpropagating__entry.html#aec606895ecaae8a9f577c1a42cf63954">00266</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code" href="structpropagating__entry.html#aec606895ecaae8a9f577c1a42cf63954" title="pending interest message">interest_msg</a>; <span class="comment">/**&lt; pending interest message */</span>
<a name="l00267"></a><a class="code" href="structpropagating__entry.html#aad07ababb860eb48ff176b1981358a4a">00267</a>     <span class="keywordtype">unsigned</span> <a class="code" href="structpropagating__entry.html#aad07ababb860eb48ff176b1981358a4a" title="size in bytes of interest_msg">size</a>;              <span class="comment">/**&lt; size in bytes of interest_msg */</span>
<a name="l00268"></a><a class="code" href="structpropagating__entry.html#aad45be0d39bf52823c8abf74bdef2fb4">00268</a>     <span class="keywordtype">int</span> <a class="code" href="structpropagating__entry.html#aad45be0d39bf52823c8abf74bdef2fb4" title="decide if outbound is stale">fgen</a>;                   <span class="comment">/**&lt; decide if outbound is stale */</span>
<a name="l00269"></a>00269 };
<a name="l00270"></a>00270 <span class="comment">// XXX - with new outbound/sent repr, some of these flags may not be needed.</span>
<a name="l00271"></a><a class="code" href="ccnd__private_8h.html#a9bcd68a5e778698a98329f3bee0ae7b1">00271</a> <span class="preprocessor">#define CCN_PR_UNSENT   0x01 </span><span class="comment">/**&lt; interest has not been sent anywhere yet */</span>
<a name="l00272"></a><a class="code" href="ccnd__private_8h.html#ac25e7dd8bc398dcee8acdc8e18691a75">00272</a> <span class="preprocessor">#define CCN_PR_WAIT1    0x02 </span><span class="comment">/**&lt; interest has been sent to one place */</span>
<a name="l00273"></a><a class="code" href="ccnd__private_8h.html#aeee6f89931b5f5d10cb445a139424a7f">00273</a> <span class="preprocessor">#define CCN_PR_STUFFED1 0x04 </span><span class="comment">/**&lt; was stuffed before sent anywhere else */</span>
<a name="l00274"></a><a class="code" href="ccnd__private_8h.html#abc0a586b24f022b40ad0334cc2af24c8">00274</a> <span class="preprocessor">#define CCN_PR_TAP      0x08 </span><span class="comment">/**&lt; at least one tap face is present */</span>
<a name="l00275"></a><a class="code" href="ccnd__private_8h.html#a11da46430898ee05f795b8ccce628df5">00275</a> <span class="preprocessor">#define CCN_PR_EQV      0x10 </span><span class="comment">/**&lt; a younger similar interest exists */</span>
<a name="l00276"></a><a class="code" href="ccnd__private_8h.html#adb1ee8b4e17cd099bb35f7b7d6804eb3">00276</a> <span class="preprocessor">#define CCN_PR_SCOPE0   0x20 </span><span class="comment">/**&lt; interest scope is 0 */</span>
<a name="l00277"></a><a class="code" href="ccnd__private_8h.html#a4fd508d499d596861034fd5910b4f760">00277</a> <span class="preprocessor">#define CCN_PR_SCOPE1   0x40 </span><span class="comment">/**&lt; interest scope is 1 (this host) */</span>
<a name="l00278"></a><a class="code" href="ccnd__private_8h.html#aad5a6167c75b4271513d316ea49abf08">00278</a> <span class="preprocessor">#define CCN_PR_SCOPE2   0x80 </span><span class="comment">/**&lt; interest scope is 2 (immediate neighborhood) */</span>
<a name="l00279"></a>00279 <span class="comment"></span>
<a name="l00280"></a>00280 <span class="comment">/**</span>
<a name="l00281"></a>00281 <span class="comment"> * The nameprefix hash table is keyed by the Component elements of</span>
<a name="l00282"></a>00282 <span class="comment"> * the Name prefix.</span>
<a name="l00283"></a>00283 <span class="comment"> */</span>
<a name="l00284"></a><a class="code" href="structnameprefix__entry.html">00284</a> <span class="keyword">struct </span><a class="code" href="structnameprefix__entry.html" title="The nameprefix hash table is keyed by the Component elements of the Name prefix.">nameprefix_entry</a> {
<a name="l00285"></a><a class="code" href="structnameprefix__entry.html#a7d76cb9416bbb004ebee4001b1093972">00285</a>     <span class="keyword">struct </span><a class="code" href="structpropagating__entry.html" title="The propagating interest hash table is keyed by Nonce.">propagating_entry</a> <a class="code" href="structnameprefix__entry.html#a7d76cb9416bbb004ebee4001b1093972" title="list head for propagating entries">pe_head</a>; <span class="comment">/**&lt; list head for propagating entries */</span>
<a name="l00286"></a><a class="code" href="structnameprefix__entry.html#aae26b8fa420dc0d1284afb085a12936e">00286</a>     <span class="keyword">struct </span><a class="code" href="structccn__indexbuf.html">ccn_indexbuf</a> *<a class="code" href="structnameprefix__entry.html#aae26b8fa420dc0d1284afb085a12936e" title="faceids to forward to">forward_to</a>; <span class="comment">/**&lt; faceids to forward to */</span>
<a name="l00287"></a><a class="code" href="structnameprefix__entry.html#a6010f24c06b2ee03c4748eb0c3e7fac3">00287</a>     <span class="keyword">struct </span><a class="code" href="structccn__indexbuf.html">ccn_indexbuf</a> *<a class="code" href="structnameprefix__entry.html#a6010f24c06b2ee03c4748eb0c3e7fac3" title="faceids to forward to as tap">tap</a>;    <span class="comment">/**&lt; faceids to forward to as tap*/</span>
<a name="l00288"></a><a class="code" href="structnameprefix__entry.html#a4f385b5468827187935eeeb6a1522d57">00288</a>     <span class="keyword">struct </span><a class="code" href="structccn__forwarding.html" title="Keeps track of the faces that interests matching a given name prefix may be forwarded...">ccn_forwarding</a> *<a class="code" href="structnameprefix__entry.html#a4f385b5468827187935eeeb6a1522d57" title="detailed forwarding info">forwarding</a>; <span class="comment">/**&lt; detailed forwarding info */</span>
<a name="l00289"></a><a class="code" href="structnameprefix__entry.html#a7b3f7b326fd219bb85c3cc36f525c453">00289</a>     <span class="keyword">struct </span><a class="code" href="structnameprefix__entry.html" title="The nameprefix hash table is keyed by the Component elements of the Name prefix.">nameprefix_entry</a> *<a class="code" href="structnameprefix__entry.html#a7b3f7b326fd219bb85c3cc36f525c453" title="link to next-shorter prefix">parent</a>; <span class="comment">/**&lt; link to next-shorter prefix */</span>
<a name="l00290"></a><a class="code" href="structnameprefix__entry.html#a52621a838e2d3549a4c39fdb70640cb8">00290</a>     <span class="keywordtype">int</span> <a class="code" href="structnameprefix__entry.html#a52621a838e2d3549a4c39fdb70640cb8" title="number of children">children</a>;                <span class="comment">/**&lt; number of children */</span>
<a name="l00291"></a><a class="code" href="structnameprefix__entry.html#a57b0cbe3eeaee2c179c317a949bb72f9">00291</a>     <span class="keywordtype">unsigned</span> <a class="code" href="structnameprefix__entry.html#a57b0cbe3eeaee2c179c317a949bb72f9" title="CCN_FORW_* flags about namespace.">flags</a>;              <span class="comment">/**&lt; CCN_FORW_* flags about namespace */</span>
<a name="l00292"></a><a class="code" href="structnameprefix__entry.html#a57e331ba26a2b2310b21186f99d180b1">00292</a>     <span class="keywordtype">int</span> <a class="code" href="structnameprefix__entry.html#a57e331ba26a2b2310b21186f99d180b1" title="used to decide when forward_to is stale">fgen</a>;                    <span class="comment">/**&lt; used to decide when forward_to is stale */</span>
<a name="l00293"></a><a class="code" href="structnameprefix__entry.html#a4328bffb4dd6acdbae9f4af66a4e75a3">00293</a>     <span class="keywordtype">unsigned</span> <a class="code" href="structnameprefix__entry.html#a4328bffb4dd6acdbae9f4af66a4e75a3" title="faceid of recent content source">src</a>;                <span class="comment">/**&lt; faceid of recent content source */</span>
<a name="l00294"></a><a class="code" href="structnameprefix__entry.html#a2c9e29f5951a4d97667c348b10e3b18c">00294</a>     <span class="keywordtype">unsigned</span> <a class="code" href="structnameprefix__entry.html#a2c9e29f5951a4d97667c348b10e3b18c" title="and of older matching content">osrc</a>;               <span class="comment">/**&lt; and of older matching content */</span>
<a name="l00295"></a><a class="code" href="structnameprefix__entry.html#a146758d80c2f0ca082e7154f54b02569">00295</a>     <span class="keywordtype">unsigned</span> <a class="code" href="structnameprefix__entry.html#a146758d80c2f0ca082e7154f54b02569" title="response-time prediction">usec</a>;               <span class="comment">/**&lt; response-time prediction */</span>
<a name="l00296"></a>00296 };
<a name="l00297"></a>00297 <span class="comment"></span>
<a name="l00298"></a>00298 <span class="comment">/**</span>
<a name="l00299"></a>00299 <span class="comment"> * Keeps track of the faces that interests matching a given name prefix may be</span>
<a name="l00300"></a>00300 <span class="comment"> * forwarded to.</span>
<a name="l00301"></a>00301 <span class="comment"> */</span>
<a name="l00302"></a><a class="code" href="structccn__forwarding.html">00302</a> <span class="keyword">struct </span><a class="code" href="structccn__forwarding.html" title="Keeps track of the faces that interests matching a given name prefix may be forwarded...">ccn_forwarding</a> {
<a name="l00303"></a><a class="code" href="structccn__forwarding.html#a0455cb3b715ba163a7a5362e321dce05">00303</a>     <span class="keywordtype">unsigned</span> <a class="code" href="structccn__forwarding.html#a0455cb3b715ba163a7a5362e321dce05" title="locally unique number identifying face">faceid</a>;             <span class="comment">/**&lt; locally unique number identifying face */</span>
<a name="l00304"></a><a class="code" href="structccn__forwarding.html#adb3efb00c9a033ee86d74c1411431611">00304</a>     <span class="keywordtype">unsigned</span> <a class="code" href="structccn__forwarding.html#adb3efb00c9a033ee86d74c1411431611" title="CCN_FORW_* - c.f.">flags</a>;              <span class="comment">/**&lt; CCN_FORW_* - c.f. &lt;ccn/reg_mgnt.h&gt; */</span>
<a name="l00305"></a><a class="code" href="structccn__forwarding.html#a7d36f69f54e42a23366084ab184f9e56">00305</a>     <span class="keywordtype">int</span> <a class="code" href="structccn__forwarding.html#a7d36f69f54e42a23366084ab184f9e56" title="time remaining, in seconds">expires</a>;                 <span class="comment">/**&lt; time remaining, in seconds */</span>
<a name="l00306"></a><a class="code" href="structccn__forwarding.html#ab41a8235a2f841fdbad762222b593ced">00306</a>     <span class="keyword">struct </span><a class="code" href="structccn__forwarding.html" title="Keeps track of the faces that interests matching a given name prefix may be forwarded...">ccn_forwarding</a> *<a class="code" href="structccn__forwarding.html#ab41a8235a2f841fdbad762222b593ced">next</a>;
<a name="l00307"></a>00307 };
<a name="l00308"></a>00308 <span class="comment"></span>
<a name="l00309"></a>00309 <span class="comment">/**</span>
<a name="l00310"></a>00310 <span class="comment"> * @def CCN_FORW_ACTIVE         1</span>
<a name="l00311"></a>00311 <span class="comment"> * @def CCN_FORW_CHILD_INHERIT  2</span>
<a name="l00312"></a>00312 <span class="comment"> * @def CCN_FORW_ADVERTISE      4</span>
<a name="l00313"></a>00313 <span class="comment"> * @def CCN_FORW_LAST           8</span>
<a name="l00314"></a>00314 <span class="comment"> * @def CCN_FORW_CAPTURE       16</span>
<a name="l00315"></a>00315 <span class="comment"> * @def CCN_FORW_LOCAL         32</span>
<a name="l00316"></a>00316 <span class="comment"> */</span>
<a name="l00317"></a><a class="code" href="ccnd__private_8h.html#a90e706e667db8dc2815a9634bfccf099">00317</a> <span class="preprocessor">#define CCN_FORW_REFRESHED      (1 &lt;&lt; 16) </span><span class="comment">/**&lt; private to ccnd */</span>
<a name="l00318"></a>00318  <span class="comment"></span>
<a name="l00319"></a>00319 <span class="comment">/**</span>
<a name="l00320"></a>00320 <span class="comment"> * Determines how frequently we age our forwarding entries</span>
<a name="l00321"></a>00321 <span class="comment"> */</span>
<a name="l00322"></a><a class="code" href="ccnd__private_8h.html#a487d9e5d8c994dff453ab6e471a6d737">00322</a> <span class="preprocessor">#define CCN_FWU_SECS 5</span>
<a name="l00323"></a>00323 <span class="preprocessor"></span>
<a name="l00324"></a>00324 <span class="comment">/*</span>
<a name="l00325"></a>00325 <span class="comment"> * Internal client</span>
<a name="l00326"></a>00326 <span class="comment"> * The internal client is for communication between the ccnd and other</span>
<a name="l00327"></a>00327 <span class="comment"> * components, using (of course) ccn protocols.</span>
<a name="l00328"></a>00328 <span class="comment"> */</span>
<a name="l00329"></a>00329 <span class="keywordtype">int</span> <a class="code" href="ccnd__internal__client_8c.html#a951cf92331308d6ba8b12ba1139de139">ccnd_init_internal_keystore</a>(<span class="keyword">struct</span> <a class="code" href="structccnd__handle.html" title="We pass this handle almost everywhere within ccnd.">ccnd_handle</a> *);
<a name="l00330"></a>00330 <span class="keywordtype">int</span> <a class="code" href="ccnd__internal__client_8c.html#adb2e19eded1d4adc0221262d2fa5f894">ccnd_internal_client_start</a>(<span class="keyword">struct</span> <a class="code" href="structccnd__handle.html" title="We pass this handle almost everywhere within ccnd.">ccnd_handle</a> *);
<a name="l00331"></a>00331 <span class="keywordtype">void</span> <a class="code" href="ccnd__internal__client_8c.html#aca545bf1aa5a6d1aab5f447521ca0654">ccnd_internal_client_stop</a>(<span class="keyword">struct</span> <a class="code" href="structccnd__handle.html" title="We pass this handle almost everywhere within ccnd.">ccnd_handle</a> *);
<a name="l00332"></a>00332 <span class="comment"></span>
<a name="l00333"></a>00333 <span class="comment">/**</span>
<a name="l00334"></a>00334 <span class="comment"> * The internal client calls this with the argument portion ARG of</span>
<a name="l00335"></a>00335 <span class="comment"> * a face-creation request (/ccnx/CCNDID/newface/ARG)</span>
<a name="l00336"></a>00336 <span class="comment"> * The result, if not NULL, will be used as the Content of the reply.</span>
<a name="l00337"></a>00337 <span class="comment"> */</span>
<a name="l00338"></a>00338 <span class="keyword">struct </span><a class="code" href="structccn__charbuf.html">ccn_charbuf</a> *<a class="code" href="ccnd_8c.html#a108db0d377594cdba9e4c3cc76d75a6b" title="Process a newface request for the ccnd internal client.">ccnd_req_newface</a>(<span class="keyword">struct</span> <a class="code" href="structccnd__handle.html" title="We pass this handle almost everywhere within ccnd.">ccnd_handle</a> *h,
<a name="l00339"></a>00339                                      <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *msg, <span class="keywordtype">size_t</span> size);
<a name="l00340"></a>00340 <span class="comment"></span>
<a name="l00341"></a>00341 <span class="comment">/**</span>
<a name="l00342"></a>00342 <span class="comment"> * The internal client calls this with the argument portion ARG of</span>
<a name="l00343"></a>00343 <span class="comment"> * a face-destroy request (/ccnx/CCNDID/destroyface/ARG)</span>
<a name="l00344"></a>00344 <span class="comment"> * The result, if not NULL, will be used as the Content of the reply.</span>
<a name="l00345"></a>00345 <span class="comment"> */</span>
<a name="l00346"></a>00346 <span class="keyword">struct </span><a class="code" href="structccn__charbuf.html">ccn_charbuf</a> *<a class="code" href="ccnd_8c.html#af622645a68e7170ea8697d250a1216f8" title="Process a destroyface request for the ccnd internal client.">ccnd_req_destroyface</a>(<span class="keyword">struct</span> <a class="code" href="structccnd__handle.html" title="We pass this handle almost everywhere within ccnd.">ccnd_handle</a> *h,
<a name="l00347"></a>00347                                          <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *msg, <span class="keywordtype">size_t</span> size);
<a name="l00348"></a>00348 <span class="comment"></span>
<a name="l00349"></a>00349 <span class="comment">/**</span>
<a name="l00350"></a>00350 <span class="comment"> * The internal client calls this with the argument portion ARG of</span>
<a name="l00351"></a>00351 <span class="comment"> * a prefix-registration request (/ccnx/CCNDID/prefixreg/ARG)</span>
<a name="l00352"></a>00352 <span class="comment"> * The result, if not NULL, will be used as the Content of the reply.</span>
<a name="l00353"></a>00353 <span class="comment"> */</span>
<a name="l00354"></a>00354 <span class="keyword">struct </span><a class="code" href="structccn__charbuf.html">ccn_charbuf</a> *<a class="code" href="ccnd_8c.html#a1f6349ea8c4c9d8a37eef4e7f0e4c934" title="Process a prefixreg request for the ccnd internal client.">ccnd_req_prefixreg</a>(<span class="keyword">struct</span> <a class="code" href="structccnd__handle.html" title="We pass this handle almost everywhere within ccnd.">ccnd_handle</a> *h,
<a name="l00355"></a>00355                                        <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *msg, <span class="keywordtype">size_t</span> size);
<a name="l00356"></a>00356 <span class="comment"></span>
<a name="l00357"></a>00357 <span class="comment">/**</span>
<a name="l00358"></a>00358 <span class="comment"> * The internal client calls this with the argument portion ARG of</span>
<a name="l00359"></a>00359 <span class="comment"> * a prefix-registration request for self (/ccnx/CCNDID/selfreg/ARG)</span>
<a name="l00360"></a>00360 <span class="comment"> * The result, if not NULL, will be used as the Content of the reply.</span>
<a name="l00361"></a>00361 <span class="comment"> */</span>
<a name="l00362"></a>00362 <span class="keyword">struct </span><a class="code" href="structccn__charbuf.html">ccn_charbuf</a> *<a class="code" href="ccnd_8c.html#a7ad07656cf630d85cc80ae8b49b8e6a5" title="Process a selfreg request for the ccnd internal client.">ccnd_req_selfreg</a>(<span class="keyword">struct</span> <a class="code" href="structccnd__handle.html" title="We pass this handle almost everywhere within ccnd.">ccnd_handle</a> *h,
<a name="l00363"></a>00363                                      <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *msg, <span class="keywordtype">size_t</span> size);
<a name="l00364"></a>00364 <span class="comment"></span>
<a name="l00365"></a>00365 <span class="comment">/**</span>
<a name="l00366"></a>00366 <span class="comment"> * The internal client calls this with the argument portion ARG of</span>
<a name="l00367"></a>00367 <span class="comment"> * a prefix-unregistration request (/ccnx/CCNDID/unreg/ARG)</span>
<a name="l00368"></a>00368 <span class="comment"> * The result, if not NULL, will be used as the Content of the reply.</span>
<a name="l00369"></a>00369 <span class="comment"> */</span>
<a name="l00370"></a>00370 <span class="keyword">struct </span><a class="code" href="structccn__charbuf.html">ccn_charbuf</a> *<a class="code" href="ccnd_8c.html#a7ef920433d0fd7f4cf744f2a14e6c710" title="Process an unreg request for the ccnd internal client.">ccnd_req_unreg</a>(<span class="keyword">struct</span> <a class="code" href="structccnd__handle.html" title="We pass this handle almost everywhere within ccnd.">ccnd_handle</a> *h,
<a name="l00371"></a>00371                                    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *msg, <span class="keywordtype">size_t</span> size);
<a name="l00372"></a>00372 
<a name="l00373"></a>00373 <span class="keywordtype">int</span> <a class="code" href="ccnd_8c.html#a6a4a51f315cdeac27bdee3546f9d88f0" title="Register a prefix, expressed in the form of a URI.">ccnd_reg_uri</a>(<span class="keyword">struct</span> <a class="code" href="structccnd__handle.html" title="We pass this handle almost everywhere within ccnd.">ccnd_handle</a> *h,
<a name="l00374"></a>00374                  <span class="keyword">const</span> <span class="keywordtype">char</span> *uri,
<a name="l00375"></a>00375                  <span class="keywordtype">unsigned</span> faceid,
<a name="l00376"></a>00376                  <span class="keywordtype">int</span> flags,
<a name="l00377"></a>00377                  <span class="keywordtype">int</span> expires);
<a name="l00378"></a>00378 
<a name="l00379"></a>00379 <span class="keyword">struct </span><a class="code" href="structface.html" title="One of our active faces.">face</a> *<a class="code" href="ccnd_8c.html#aeccb0edccd5bfbab65ac192403fbe8dc" title="Looks up a face based on its faceid.">ccnd_face_from_faceid</a>(<span class="keyword">struct</span> <a class="code" href="structccnd__handle.html" title="We pass this handle almost everywhere within ccnd.">ccnd_handle</a> *, <span class="keywordtype">unsigned</span>);
<a name="l00380"></a>00380 <span class="keywordtype">void</span> <a class="code" href="ccnd__internal__client_8c.html#a9a8312e047d60e5e17dbe0f248ada546" title="Called by ccnd when a face undergoes a substantive status change that should be reported...">ccnd_face_status_change</a>(<span class="keyword">struct</span> <a class="code" href="structccnd__handle.html" title="We pass this handle almost everywhere within ccnd.">ccnd_handle</a> *, <span class="keywordtype">unsigned</span>);
<a name="l00381"></a>00381 <span class="keywordtype">int</span> <a class="code" href="ccnd_8c.html#a16ee454cf88a3fc107d9644dce86e7cf" title="Destroys the face identified by faceid.">ccnd_destroy_face</a>(<span class="keyword">struct</span> <a class="code" href="structccnd__handle.html" title="We pass this handle almost everywhere within ccnd.">ccnd_handle</a> *h, <span class="keywordtype">unsigned</span> <a class="code" href="structface.html#ad41672dc1c4db377303433b210f602f5" title="internal face id">faceid</a>);
<a name="l00382"></a>00382 <span class="keywordtype">void</span> <a class="code" href="ccnd_8c.html#ab7e8dd7ed8a008538af941f52159b209" title="Send data to the face.">ccnd_send</a>(<span class="keyword">struct</span> <a class="code" href="structccnd__handle.html" title="We pass this handle almost everywhere within ccnd.">ccnd_handle</a> *h, <span class="keyword">struct</span> <a class="code" href="structface.html" title="One of our active faces.">face</a> *<a class="code" href="structface.html" title="One of our active faces.">face</a>,
<a name="l00383"></a>00383                <span class="keyword">const</span> <span class="keywordtype">void</span> *data, <span class="keywordtype">size_t</span> size);
<a name="l00384"></a>00384 
<a name="l00385"></a>00385 <span class="comment">/* Consider a separate header for these */</span>
<a name="l00386"></a>00386 <span class="keywordtype">int</span> <a class="code" href="ccnd__private_8h.html#af89a056b1e9c78465afb275d3eb5ea39">ccnd_stats_handle_http_connection</a>(<span class="keyword">struct</span> <a class="code" href="structccnd__handle.html" title="We pass this handle almost everywhere within ccnd.">ccnd_handle</a> *, <span class="keyword">struct</span> <a class="code" href="structface.html" title="One of our active faces.">face</a> *);
<a name="l00387"></a>00387 <span class="keywordtype">void</span> <a class="code" href="android__msg_8c.html#ab366c8b24b40d405717b70124e6049be" title="Copyright (C) 2009,2010 Palo Alto Research Center, Inc.">ccnd_msg</a>(<span class="keyword">struct</span> <a class="code" href="structccnd__handle.html" title="We pass this handle almost everywhere within ccnd.">ccnd_handle</a> *, <span class="keyword">const</span> <span class="keywordtype">char</span> *, ...);
<a name="l00388"></a>00388 <span class="keywordtype">void</span> <a class="code" href="android__msg_8c.html#ad401ad085e447112e5916594874b566e" title="Produce a ccnd debug trace entry.">ccnd_debug_ccnb</a>(<span class="keyword">struct</span> <a class="code" href="structccnd__handle.html" title="We pass this handle almost everywhere within ccnd.">ccnd_handle</a> *h,
<a name="l00389"></a>00389                      <span class="keywordtype">int</span> lineno,
<a name="l00390"></a>00390                      <span class="keyword">const</span> <span class="keywordtype">char</span> *msg,
<a name="l00391"></a>00391                      <span class="keyword">struct</span> <a class="code" href="structface.html" title="One of our active faces.">face</a> *<a class="code" href="structface.html" title="One of our active faces.">face</a>,
<a name="l00392"></a>00392                      <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *ccnb,
<a name="l00393"></a>00393                      <span class="keywordtype">size_t</span> ccnb_size);
<a name="l00394"></a>00394 
<a name="l00395"></a>00395 <span class="keyword">struct </span><a class="code" href="structccnd__handle.html" title="We pass this handle almost everywhere within ccnd.">ccnd_handle</a> *<a class="code" href="ccnd_8c.html#a06ba6b2c5fd8a8b431afd89703c0c7ca" title="Start a new ccnd instance.">ccnd_create</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *, <a class="code" href="ccnd__private_8h.html#a6b42f2191353fac0f6001019a047f2c1">ccnd_logger</a>, <span class="keywordtype">void</span> *);
<a name="l00396"></a>00396 <span class="keywordtype">void</span> <a class="code" href="ccnd_8c.html#adf9b9a68963a1d9af6410aada1aef0f0" title="Run the main loop of the ccnd.">ccnd_run</a>(<span class="keyword">struct</span> <a class="code" href="structccnd__handle.html" title="We pass this handle almost everywhere within ccnd.">ccnd_handle</a> *h);
<a name="l00397"></a>00397 <span class="keywordtype">void</span> <a class="code" href="ccnd_8c.html#a0bdabe87107d03d8228ae2540b049483" title="Destroy the ccnd instance, releasing all associated resources.">ccnd_destroy</a>(<span class="keyword">struct</span> <a class="code" href="structccnd__handle.html" title="We pass this handle almost everywhere within ccnd.">ccnd_handle</a> **);
<a name="l00398"></a>00398 <span class="keyword">extern</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="ccnd__msg_8c.html#a09043641d3d885b075ff28d1e1feed05" title="CCND Usage message.">ccnd_usage_message</a>;
<a name="l00399"></a>00399 
<a name="l00400"></a>00400 <span class="preprocessor">#endif</span>
</pre></div></div>
<hr size="1"/><address style="text-align: right;"><small>Generated on Thu Nov 4 13:34:08 2010 for Content-Centric Networking in C by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
